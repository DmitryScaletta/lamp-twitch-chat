(this["webpackJsonphoney-chat"]=this["webpackJsonphoney-chat"]||[]).push([[0],{183:function(e,t,n){e.exports=n(322)},224:function(e,t){},226:function(e,t){},265:function(e,t){},266:function(e,t){},322:function(e,t,n){"use strict";n.r(t);var r,u=n(0),a=n.n(u),c=n(63),o=n.n(c),i=n(111),s=function(e){return e.startsWith("#access_token=")},l=n(37),f=n(162),D=n(2),b=n(13),p=n.n(b),d=n(17),E=n(113),m=n(336),h=function(e){return fetch("".concat("https://api.twitch.tv/kraken").concat(e),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"4e66w1po1tzf645r9vutn9qus05vg9x",Authorization:"OAuth ".concat(localStorage.accessToken)}}).then((function(e){return e.json()}))},O=function(e){return fetch(e).then((function(e){return e.json()}))},g=function(e){return t="/users?id=".concat(e),fetch("".concat("https://api.twitch.tv/helix").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}).then((function(e){return e.json()}));var t},v=function(e){return h("/users/".concat(e,"/emotes"))},j=function(e){return O("https://api.betterttv.net/3/cached/users/twitch/".concat(e))},C=function(e){return O("https://api.frankerfacez.com/v1/room/id/".concat(e))},F=function(e){return O("https://recent-messages.robotty.de/api/v2/recent-messages/".concat(e,"?clearchatToNotice=true"))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return O("https://badges.twitch.tv/v1/badges/global/display?language=".concat(e))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return O("https://badges.twitch.tv/v1/badges/channels/".concat(e,"/display?language=").concat(t))},B=function(e){return h("/users/".concat(e,"/blocks"))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,_,k=Object(E.a)("SET_IS_AUTH"),T=Object(E.a)("FETCH_USER_REQUEST"),P=Object(E.a)("FETCH_USER_SUCCESS"),R=Object(E.a)("FETCH_USER_FAILURE"),L=Object(m.a)((r={},Object(D.a)(r,k,(function(e,t){var n=t.payload,r=n.isAuth,u=n.user;return x({},e,{isAuth:void 0===r?e.isAuth:r,user:x({},e.user,{},u)})})),Object(D.a)(r,T,(function(e){return x({},e,{isLoading:!0})})),Object(D.a)(r,P,(function(e,t){return x({},e,{isAuth:!0,isLoading:!1,user:t.payload})})),Object(D.a)(r,R,(function(e,t){return x({},e,{isAuth:!1,isLoading:!1,error:t.payload})})),r),{isAuth:!1,isLoading:!1,user:{id:null,login:null,displayName:null}}),I=n(335),H=n(181),U=n(324),M="MESSAGE",N="NOTICE_MESSAGE",q="USER_NOTICE_MESSAGE",z={isLoading:!1,isLoaded:!1,isError:!1,error:null},G={isLoading:!0,isLoaded:!1,isError:!1,error:null},Q={isLoading:!1,isLoaded:!0,isError:!1,error:null},V={isLoading:!1,isLoaded:!1,isError:!0};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,K,Y={global:Z({},z,{items:{}}),channels:{}},X=Object(I.a)("FETCH_GLOBAL_BADGES_REQUEST","FETCH_GLOBAL_BADGES_SUCCESS","FETCH_GLOBAL_BADGES_FAILURE","FETCH_CHANNEL_BADGES_REQUEST","FETCH_CHANNEL_BADGES_SUCCESS","FETCH_CHANNEL_BADGES_FAILURE"),$=X.fetchGlobalBadgesRequest,ee=X.fetchGlobalBadgesSuccess,te=X.fetchGlobalBadgesFailure,ne=X.fetchChannelBadgesRequest,re=X.fetchChannelBadgesSuccess,ue=X.fetchChannelBadgesFailure,ae=Object(H.a)({},["badge_sets"]),ce=(S={},Object(D.a)(S,$,(function(e){return Object(U.a)(e,{global:Z({},G)})})),Object(D.a)(S,ee,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:Z({},Q,{items:n.items})})})),Object(D.a)(S,te,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:Z({},V,{error:n.error})})})),S),oe=(_={},Object(D.a)(_,ne,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Z({},G))})})),Object(D.a)(_,re,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Z({},Q,{items:n.items}))})})),Object(D.a)(_,ue,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Z({},V,{error:n.error}))})})),_),ie=Object(m.a)(Z({},ce,{},oe),Y),se=n(337),le=n(325),fe=n(339),De=n(80),be=n(326);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee,me={currentChannel:null,isConnected:!1,globalState:{},channels:{},blockedUsers:de({},z,{items:[]})},he=Object(I.a)("SET_CURRENT_CHANNEL","SET_IS_CONNECTED","UPDATE_GLOBAL_USER_STATE","UPDATE_USER_STATE","UPDATE_ROOM_STATE","REMOVE_CHANNEL"),Oe=he.setCurrentChannel,ge=he.setIsConnected,ve=he.updateGlobalUserState,je=he.updateUserState,Ce=he.updateRoomState,Fe=he.removeChannel,Ae=Object(I.a)("FETCH_BLOCKED_USERS_REQUEST","FETCH_BLOCKED_USERS_SUCCESS","FETCH_BLOCKED_USERS_FAILURE"),ye=Ae.fetchBlockedUsersRequest,Be=Ae.fetchBlockedUsersSuccess,we=Ae.fetchBlockedUsersFailure,xe=Object(se.a)(Object(le.a)("blocks"),Object(fe.a)(Object(De.a)(["user","name"]))),Se=(J={},Object(D.a)(J,ye,(function(e){return Object(U.a)(e,{blockedUsers:de({},G)})})),Object(D.a)(J,Be,(function(e,t){var n=t.payload;return Object(U.a)(e,{blockedUsers:de({},Q,{items:n.items})})})),Object(D.a)(J,we,(function(e,t){var n=t.payload;return Object(U.a)(e,{blockedUsers:de({},V,{error:n.error})})})),J),_e=Object(m.a)(de((K={},Object(D.a)(K,Oe,(function(e,t){return de({},e,{currentChannel:t.payload})})),Object(D.a)(K,ge,(function(e,t){return de({},e,{isConnected:t.payload})})),Object(D.a)(K,ve,(function(e,t){var n=t.payload.tags;return de({},e,{globalState:de({},e.globalState,{},n)})})),Object(D.a)(K,je,(function(e,t){var n=t.payload,r=n.channel,u=n.tags;return Object(U.a)(e,{channels:Object(D.a)({},r,{userState:u})})})),Object(D.a)(K,Ce,(function(e,t){var n=t.payload,r=n.channel,u=n.tags;return Object(U.a)(e,{channels:Object(D.a)({},r,{roomState:u})})})),Object(D.a)(K,Fe,(function(e,t){var n=t.payload;return de({},e,{channels:Object(be.a)([n],e.channels)})})),K),Se),me);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe,Re,Le=Te({},z,{items:{}}),Ie=Object(I.a)("FETCH_TWITCH_EMOTES_REQUEST","FETCH_TWITCH_EMOTES_SUCCESS","FETCH_TWITCH_EMOTES_FAILURE"),He=Ie.fetchTwitchEmotesRequest,Ue=Ie.fetchTwitchEmotesSuccess,Me=Ie.fetchTwitchEmotesFailure,Ne=(Ee={},Object(D.a)(Ee,He,(function(e){return Te({},e,{},G)})),Object(D.a)(Ee,Ue,(function(e,t){var n=t.payload;return Te({},e,{},Q,{items:n.items})})),Object(D.a)(Ee,Me,(function(e,t){var n=t.payload;return Te({},e,{},V,{error:n.error})})),Ee),qe=Object(m.a)(Ne,Le),ze=n(31);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve,We,Ze=Object(I.a)("FETCH_BTTV_GLOBAL_EMOTES_REQUEST","FETCH_BTTV_GLOBAL_EMOTES_SUCCESS","FETCH_BTTV_GLOBAL_EMOTES_FAILURE","FETCH_BTTV_CHANNEL_EMOTES_REQUEST","FETCH_BTTV_CHANNEL_EMOTES_SUCCESS","FETCH_BTTV_CHANNEL_EMOTES_FAILURE"),Je=Ze.fetchBttvGlobalEmotesRequest,Ke=Ze.fetchBttvGlobalEmotesSuccess,Ye=Ze.fetchBttvGlobalEmotesFailure,Xe=Ze.fetchBttvChannelEmotesRequest,$e=Ze.fetchBttvChannelEmotesSuccess,et=Ze.fetchBttvChannelEmotesFailure,tt=function(e){var t=e.channelEmotes,n=e.sharedEmotes;return[].concat(Object(ze.a)(t),Object(ze.a)(n))},nt=(Pe={},Object(D.a)(Pe,Je,(function(e){return Object(U.a)(e,{global:Qe({},G)})})),Object(D.a)(Pe,Ke,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:Qe({},Q,{items:n.items})})})),Object(D.a)(Pe,Ye,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:Qe({},V,{error:n.error})})})),Pe),rt=(Re={},Object(D.a)(Re,Xe,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Qe({},G))})})),Object(D.a)(Re,$e,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Qe({},Q,{items:n.items}))})})),Object(D.a)(Re,et,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,Qe({},V,{error:n.error}))})})),Re),ut=Object(m.a)(Qe({},nt,{},rt),{global:{isLoading:!1,isLoaded:!1,isError:!1,error:null,items:[]},channels:{}}),at=n(327),ct=n(328),ot=n(329),it=n(340);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=Object(I.a)("FETCH_FFZ_GLOBAL_EMOTES_REQUEST","FETCH_FFZ_GLOBAL_EMOTES_SUCCESS","FETCH_FFZ_GLOBAL_EMOTES_FAILURE","FETCH_FFZ_CHANNEL_EMOTES_REQUEST","FETCH_FFZ_CHANNEL_EMOTES_SUCCESS","FETCH_FFZ_CHANNEL_EMOTES_FAILURE"),Dt=ft.fetchFfzGlobalEmotesRequest,bt=ft.fetchFfzGlobalEmotesSuccess,pt=ft.fetchFfzGlobalEmotesFailure,dt=ft.fetchFfzChannelEmotesRequest,Et=ft.fetchFfzChannelEmotesSuccess,mt=ft.fetchFfzChannelEmotesFailure,ht=function(e){var t=e.default_sets,n=e.sets;return Object(se.a)(Object(at.a)(t),ct.a,Object(fe.a)(Object(ot.a)([],"emoticons")),it.a)(n)},Ot=(Ve={},Object(D.a)(Ve,Dt,(function(e){return Object(U.a)(e,{global:lt({},G)})})),Object(D.a)(Ve,bt,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:lt({},Q,{items:n.items})})})),Object(D.a)(Ve,pt,(function(e,t){var n=t.payload;return Object(U.a)(e,{global:lt({},V,{error:n.error})})})),Ve),gt=(We={},Object(D.a)(We,dt,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,lt({},G))})})),Object(D.a)(We,Et,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,lt({},Q,{items:n.items}))})})),Object(D.a)(We,mt,(function(e,t){var n=t.payload;return Object(U.a)(e,{channels:Object(D.a)({},n.channel,lt({},V,{error:n.error}))})})),We),vt=Object(m.a)(lt({},Ot,{},gt),{global:{isLoading:!1,isLoaded:!1,isError:!1,error:null,items:[]},channels:{}}),jt=Object(l.c)({twitch:qe,bttv:ut,ffz:vt}),Ct=n(182),Ft=n(333),At=n(69),yt=n(8),Bt=n(1),wt=n.n(Bt),xt=n(164),St=n(82),_t=n(165),kt=n.n(_t),Tt=n(330),Pt=n(341),Rt=n(338),Lt=n(331),It=n(178),Ht=n(26),Ut=n(342),Mt=/^(?:(?:[a-z]+:)?\/\/)/,Nt=function(e){return Mt.test(e)?e:"//".concat(e)};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zt="//static-cdn.jtvnw.net/emoticons/v1",Gt=/^@((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])+)/,Qt=kt()({strict:!1}),Vt=Object(se.a)(Tt.a,Object(fe.a)((function(e){var t=Object(yt.a)(e,2),n=t[0],r=t[1];return Object(fe.a)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:n},e)}),r)})),it.a),Wt=Object(se.a)(Tt.a,Object(fe.a)((function(e){var t=Object(yt.a)(e,2),n=t[0],r=t[1];return"".concat(r," ").concat(n,"x")})),Object(Pt.a)(", ")),Zt=function(e){var t=e.id;return{type:"twitch-emote",alt:e.code,src:"".concat(zt,"/").concat(t,"/1.0"),srcSet:"".concat(zt,"/").concat(t,"/1.0 1x, ").concat(zt,"/").concat(t,"/2.0 2x, ").concat(zt,"/").concat(t,"/3.0 4x")}},Jt=function(e){var t=e.id;return{type:"bttv-emote",alt:e.code,src:"".concat("//cdn.betterttv.net/emote","/").concat(t,"/1x"),srcSet:"".concat("//cdn.betterttv.net/emote","/").concat(t,"/2x 2x, ").concat("//cdn.betterttv.net/emote","/").concat(t,"/3x 4x")}},Kt=function(e){var t=e.name,n=e.urls;return{type:"ffz-emote",alt:t,src:n[1],srcSet:Wt(n)}},Yt=function(e,t){return{type:"mention",text:e,target:t}},Xt=wt.a.shape({type:wt.a.oneOf(["twitch-emote"]).isRequired,alt:wt.a.string.isRequired,src:wt.a.string.isRequired,srcSet:wt.a.string.isRequired}),$t=wt.a.shape({type:wt.a.oneOf(["bttv-emote"]).isRequired,alt:wt.a.string.isRequired,src:wt.a.string.isRequired,srcSet:wt.a.string.isRequired}),en=wt.a.shape({type:wt.a.oneOf(["ffz-emote"]).isRequired,alt:wt.a.string.isRequired,src:wt.a.string.isRequired,srcSet:wt.a.string.isRequired}),tn=wt.a.shape({type:wt.a.oneOf(["emoji"]).isRequired,alt:wt.a.string.isRequired,src:wt.a.string.isRequired,srcSet:wt.a.string}),nn=wt.a.shape({type:wt.a.oneOf(["mention"]).isRequired,text:wt.a.string.isRequired,target:wt.a.string.isRequired}),rn=wt.a.shape({type:wt.a.oneOf(["link"]).isRequired,text:wt.a.string.isRequired,href:wt.a.string.isRequired}),un={4:">\\(",9:"<3"},an=function(e,t,n){var r=t.twitch,u=t.bttv,a=t.ffz,c=n.parseTwitch;if(void 0!==c&&c){var o=function(e,t){return Object(Rt.a)((function(t){var n=t.id,r=t.code;return n>=1&&n<=14?RegExp("^".concat(un[n]||r,"$")).test(e):e===r}),t)}(e,r);if(o)return Zt({id:o.id,code:e})}var i=function(e,t){return Object(Rt.a)(Object(Lt.a)("code",e),t)}(e,u);if(i)return Jt(i);var s=function(e,t){return Object(Rt.a)(Object(Lt.a)("name",e),t)}(e,a);if(s)return Kt(s);var l,f,D=Object(xt.parse)(e,{assetType:"png"});if(D&&1===D.length&&D[0].text.length===e.length){var b=(f=e,Object(se.a)(Object(It.a)(Object(Lt.a)("char",f)),Ht.a,Ut.a)(St));if(b){var p=Object(yt.a)(D,1)[0].url;return l=p,{type:"emoji",alt:":".concat(b,":"),src:l,srcSet:null}}}var d=e.match(Gt);if(d){var E=Object(yt.a)(d,2),m=E[0],h=E[1];return[Yt(m,h.toLowerCase()),e.length-m.length]}var O,g=e.match(Qt);return g&&g[0].length===e.length?{type:"link",text:O=e,href:Nt(O)}:null},cn=function(e,t,n){var r=void 0===t||null===t,u=t&&Object.keys(t).length>0,a=Vt(t),c=[],o=0,i=0;do{var s=e.indexOf(" ",o+1),l=0===o?o:o+1,f=-1===s?e.length:s,D=e.substring(l,f);if(D){var b=null;if(u){var p=Object(Rt.a)(Object(Lt.a)("start",l),a);p&&(b=Zt({id:p.id,code:D}))}if(b||(b=an(D,n,{parseTwitch:r})),b){if(i!==l){var d=e.substring(i,l);c.push(d)}if(Array.isArray(b)){var E=b,m=Object(yt.a)(E,2),h=m[0],O=m[1];c.push(h),i=f-O}else c.push(b),i=f}}if(-1===s&&i!==f){var g=e.substring(i,f);c.push(g)}o=s}while(-1!==o);return c},on=Object(H.a)("",["chat","currentChannel"]),sn=function(e){return Object(H.a)(null,["chat","channels",on(e),"roomState","roomId"],e)},ln=function(e){return Object(H.a)(!1,["messages",on(e),"isEven"],e)},fn=function(e){return e.chat.blockedUsers.isLoaded||e.chat.blockedUsers.isError},Dn=function(e){return e.chat.blockedUsers.items},bn=Object(At.a)(Object(H.a)([],["emotes","twitch","items"]),Object(se.a)(ct.a,it.a)),pn=function(e){return Object(H.a)([],["emotes",e,"global","items"])},dn=function(e){return function(t){return Object(H.a)([],["emotes",e,"channels",on(t),"items"],t)}},En=pn("bttv"),mn=dn("bttv"),hn=Object(At.a)(En,mn,(function(e,t){return[].concat(Object(ze.a)(e),Object(ze.a)(t))})),On=pn("ffz"),gn=dn("ffz"),vn=Object(At.a)(On,gn,(function(e,t){return[].concat(Object(ze.a)(e),Object(ze.a)(t))})),jn=function(e){return{twitch:bn(e),bttv:hn(e),ffz:vn(e)}},Cn={"[oO](_|\\.)[oO]":"O_o","\\&gt\\;\\(":">(","\\&lt\\;3":"<3","\\:-?(o|O)":":O","\\:-?(p|P)":":P","\\:-?[\\\\/]":":/","\\:-?[z|Z|\\|]":":Z","\\:-?\\(":":(","\\:-?\\)":":)","\\:-?D":":D","\\;-?(p|P)":";P","\\;-?\\)":";)","R-?\\)":"R)","B-?\\)":"B)"},Fn=function(e){var t=e.id,n=e.code;return Zt({id:t,code:Cn[n]||n})},An=Object(At.a)((function(e){return e.emotes.twitch.items}),En,mn,On,gn,(function(e,t,n,r,u){return[{title:"BetterTTV Channel Emotes",items:n.map(Jt)},{title:"FrankerFaceZ Channel Emotes",items:u.map(Kt)}].concat(Object(ze.a)(Object(se.a)(Object(be.a)(["0"]),ct.a,Object(fe.a)((function(e){return{items:Object(fe.a)(Zt,e)}})))(e)),[{title:"Twitch",items:Object(fe.a)(Fn,Object(ot.a)([],"0",e))},{title:"BetterTTV",items:t.map(Jt)},{title:"FrankerFaceZ",items:r.map(Kt)}]).filter((function(e){return e.items.length>0}))})),yn=function(e){return function(t){var n=on(t),r=t.emotes[e].global.isLoaded||t.emotes[e].global.isError,u=Object(De.a)(["emotes",e,"channels",n,"isLoaded"],t)||Object(De.a)(["emotes",e,"channels",n,"isError"],t);return r&&u}},Bn=yn("bttv"),wn=yn("ffz"),xn=function(e){return e.emotes.twitch.isLoaded||e.emotes.twitch.isError},Sn=function(e){return e.badges.global.items},_n=function(e){return Object(H.a)({},["badges","channels",on(e),"items"])},kn=function(e){return function(e){return e.badges.global.isLoaded||e.badges.global.isError}(e)&&function(e){var t=on(e);return Object(H.a)(!1,["badges","channels",t,"isLoaded"],e)||Object(H.a)(!1,["badges","channels",t,"isError"],e)}(e)},Tn=function(e,t,n){return Object(se.a)(Tt.a,Object(fe.a)((function(e){var r=Object(yt.a)(e,2),u=r[0],a=r[1],c=Object(H.a)(!1,[u,"versions",a],n)||Object(H.a)(!1,[u,"versions",a],t);return!!c&&function(e){var t=e.title,n=e.description,r=e.image_url_1x,u=e.image_url_2x,a=e.image_url_4x;return{alt:t,label:n,src:r,srcSet:"".concat(r," 1x, ").concat(u," 2x, ").concat(a," 4x")}}(c)})),Object(It.a)(Boolean))(e)},Pn=n(44),Rn=n(166),Ln=n(167),In=n(177),Hn=n(168),Un=n(179),Mn=n(332),Nn=n(64),qn=n(169),zn=n.n(qn),Gn=n(83),Qn=n.n(Gn);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn,Jn,Kn=["CAP","002","003","004","353","366","375","372","376"],Yn=["mod","emote-only","r9k","rituals","subs-only","msg-param-should-share-streak"],Xn=["tmi-sent-ts","ban-duration","bits","msg-param-cumulative-months","msg-param-months","msg-param-promo-gift-total","msg-param-streak-months","msg-param-viewerCount","msg-param-threshold"],$n=["subscriber","turbo","user-type"],er=["msg_banned","msg_bad_characters","msg_channel_blocked","msg_channel_suspended","msg_duplicate","msg_emoteonly","msg_facebook","msg_followersonly","msg_followersonly_followed","msg_followersonly_zero","msg_r9k","msg_ratelimit","msg_rejected","msg_rejected_mandatory","msg_room_not_found","msg_slowmode","msg_subsonly","msg_suspended","msg_timedout","msg_verified_email"],tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.split(",").reduce((function(e,t){var n=t.split("/"),r=Object(yt.a)(n,2),u=r[0],a=r[1];return Wn({},e,Object(D.a)({},u,a))}),{}):{}},nr=function(e,t){if("emotes"===e)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.split("/").reduce((function(e,t){var n=t.split(":"),r=Object(yt.a)(n,2),u=r[0],a=r[1];return Wn({},e,Object(D.a)({},u,a.split(",").map((function(e){var t=e.split("-"),n=Object(yt.a)(t,2),r=n[0],u=n[1];return{start:Number.parseInt(r,10),end:Number.parseInt(u,10)}}))))}),{}):{}}(t);if("badges"===e)return tr(t);if("badge-info"===e)return tr(t);if("followers-only"===e){var n=!1;return"-1"===t?n=!1:"0"===t?n=!0:"string"===typeof t&&(n=parseInt(t,10)),n}if("slow"===e){var r=!1;return"0"===t?r=!1:"string"===typeof t&&(r=parseInt(t,10)),r}return Yn.includes(e)?"1"===t:Xn.includes(e)?parseInt(t,10):"string"===typeof t?t.replace("\\s"," "):t},rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).filter((function(e){var t=Object(yt.a)(e,1)[0];return!$n.includes(t)})).reduce((function(e,t){var n=Object(yt.a)(t,2),r=n[0],u=n[1];return Wn({},e,Object(D.a)({},zn()(r),nr(r,u)))}),{})},ur=function(e){return e.startsWith("\x01ACTION ")&&e.endsWith("\x01")},ar=function(e){return e.slice(8,-1)},cr=function(e){return{tags:e.tags,channel:Object(yt.a)(e.params,1)[0].slice(1)}},or=cr,ir=cr,sr=function(e){return{message:e.message,tags:e.tags,channel:Object(yt.a)(e.params,1)[0].slice(1)}},lr=sr,fr=sr,Dr=sr,br=sr,pr=sr,dr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Rn.a)(this,t),(e=Object(In.a)(this,Object(Hn.a)(t).call(this))).socket=null,e.channels={},e.options=Object(U.a)({identity:{}},n),e.user=null,e._queue=[],e._messagesQueue={},e}return Object(Un.a)(t,e),Object(Ln.a)(t,[{key:"_onConnect",value:function(){var e=this.options.identity,t=e.name,n=e.auth,r=t||"justinfan".concat(Math.floor(8e4*Math.random()+1e3)),u=n?"oauth:".concat(n):"SCHMOOPIIE";this.sendRaw(["CAP REQ :twitch.tv/tags twitch.tv/commands","PASS ".concat(u),"NICK ".concat(r)]),this.emit("connected")}},{key:"_onClose",value:function(e){this.emit("disconnected",{willReconnect:!1,hadError:e})}},{key:"_onError",value:function(e){this.emit("error",e)}},{key:"_onData",value:function(e){var t=this;e.trim().split("\r\n").forEach((function(e){return t._handleMessage(e)}))}},{key:"_emmitOwnMessage",value:function(e,t){var n=Object(H.a)([],["_messagesQueue",t],this).shift();if("string"===typeof n){var r=n.startsWith("/me "),u={message:r?n.slice(4):n,tags:Wn({},e,{id:Qn()(),tmiSentTs:(new Date).getTime(),userId:this.user.userId}),user:this.options.identity.name,channel:t,isAction:r};this.emit("ownmessage",u)}}},{key:"_handleMessage",value:function(e){var t=Object(Pn.parse)(e);t.raw=e;var n=t.command;if("PING"===n)return this.sendRaw("PONG :tmi.twitch.tv"),void this.emit("ping");if(!t.prefix||"jtv"!==t.prefix.user)if("001"!==n){if(!Kn.includes(n)){var r=function(e){var t=e.raw,n=e.command,r=e.tags,u=e.middle,a=e.trailing,c=e.prefix;return{raw:t,command:n,tags:rr(r),params:u,message:a,prefix:c}}(t),u=Object(H.a)("",["params",0],r).slice(1);if("PRIVMSG"!==n){if("USERSTATE"===n){var a=or(r);return this.channels=Object(U.a)(this.channels,Object(D.a)({},u,{userState:a.tags})),Object(H.a)(0,["_messagesQueue",u,"length"],this)>0&&this._emmitOwnMessage(a.tags,u),void this.emit("userstate",a)}if("JOIN"===n){var c={channel:u};return this.channels=Object(U.a)(this.channels,Object(D.a)({},u,{})),void this.emit("join",c)}if("PART"===n){var o={channel:u};return this.channels=Object(be.a)([u],this.channels),void this.emit("part",o)}if("ROOMSTATE"===n){var i=ir(r);return this.channels=Object(U.a)(this.channels,Object(D.a)({},u,{roomState:i.tags})),void this.emit("roomstate",i)}if("NOTICE"===n){var s=lr(r);return er.includes(r.tags.msgId)&&Object(H.a)([],["_messagesQueue",u],this).shift(),void this.emit("notice",s)}if("USERNOTICE"!==n)if("CLEARCHAT"!==n)if("CLEARMSG"!==n)if("HOSTTARGET"!==n)if("WHISPER"!==n){var l;if("GLOBALUSERSTATE"===n){var f={tags:r.tags};return this.user=f.tags,void this.emit("globaluserstate",f)}this.emit("unhandled-command",r)}else{var b={message:(l=r).message,tags:l.tags,channel:Object(yt.a)(l.params,1)[0],user:l.prefix.user};this.emit("whisper",b)}else{var p=pr(r);this.emit("hosttarget",p)}else{var d=Dr(r);this.emit("clearmsg",d)}else{var E=br(r);this.emit("clearchat",E)}else{var m=fr(r);this.emit("usernotice",m)}}else{var h=function(e){var t=e.message,n=e.tags,r=e.params,u=e.prefix.user,a=ur(t);return{message:a?ar(t):t,tags:n,user:u,channel:r[0].slice(1),isAction:a}}(r);this.emit("message",h)}}}else{var O=t.params[0];for(this.options.identity.name=O;this._queue.length;){var g=this._queue.shift();this.sendRaw(g)}}}},{key:"sendRaw",value:function(e){var t=this,n=function(e){e&&t.emit("error",e)};Array.isArray(e)?e.forEach((function(e){return t.socket.send("".concat(e,"\r\n"),n)})):this.socket.send("".concat(e,"\r\n"),n)}},{key:"connect",value:function(){var e=this;this.socket=new WebSocket("wss://irc-ws.chat.twitch.tv:443");var t=this.socket;t.addEventListener("open",(function(){return e._onConnect()})),t.addEventListener("close",(function(t){return e._onClose(t)})),t.addEventListener("error",(function(t){return e._onError(t)})),t.addEventListener("message",(function(t){return e._onData(t.data)}))}},{key:"say",value:function(e,t){if(t){var n=Object(Pn.format)({command:"PRIVMSG",middle:["#".concat(e)],trailing:t});this.sendRaw(n),this._messagesQueue=Object(Mn.a)(Ft.a,this._messagesQueue,Object(D.a)({},e,[t]))}}},{key:"sendCommand",value:function(e,t,n){var r=Array.isArray(n)?n.join(" "):n,u=Object(Pn.format)({command:"PRIVMSG",middle:["#".concat(e)],trailing:"/".concat(t," ").concat(r)});this.sendRaw(u)}},{key:"join",value:function(e){var t=Object(Pn.format)({command:"JOIN",middle:["#".concat(e)]});this.user?this.sendRaw(t):this._queue.push(t)}},{key:"part",value:function(e){var t=Object(Pn.format)({command:"PART",middle:["#".concat(e)]});this.user?this.sendRaw(t):this._queue.push(t)}}]),t}(Nn.EventEmitter),Er=function(e,t){var n=Sn(e),r=_n(e),u=jn(e),a=Dn(e);return t.map((function(e){return Object(Pn.parse)(e)})).filter((function(e){var t=e.command,n=e.prefix.user;return"PRIVMSG"===t&&!a.includes(n)})).map((function(e){var t=e.tags,a=Object(yt.a)(e.params,2),c=a[0],o=a[1],i=e.prefix.user,s=ur(o),l=s?ar(o):o,f=rr(t);return{type:M,message:l,messageArray:cn(l,f.emotes,u),tags:f,badges:Tn(f.badges,n,r),user:i,channel:c.slice(1),isAction:s,isHistory:!0}}))};function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or=Object(I.a)("ADD_MESSAGE_ENTITY","ADD_RECENT_MESSAGES","FETCH_RECENT_MESSAGES_REQUEST","FETCH_RECENT_MESSAGES_SUCCESS","FETCH_RECENT_MESSAGES_FAILURE"),gr=Or.addMessageEntity,vr=Or.addRecentMessages,jr=Or.fetchRecentMessagesRequest,Cr=Or.fetchRecentMessagesSuccess,Fr=Or.fetchRecentMessagesFailure,Ar=Object(E.a)("CLEAR_CHAT"),yr=function(e){var t=e.length-500;return t>0?e.slice(t):e},Br=function(e,t,n){return n&&t%2?!e:e},wr=(Zn={},Object(D.a)(Zn,jr,(function(e,t){var n=t.payload;return Object(U.a)(e,Object(D.a)({},n.channel,{history:hr({},G)}))})),Object(D.a)(Zn,Cr,(function(e,t){var n=t.payload;return Object(U.a)(e,Object(D.a)({},n.channel,{history:hr({},Q,{items:n.items})}))})),Object(D.a)(Zn,Fr,(function(e,t){var n=t.payload;return Object(U.a)(e,Object(D.a)({},n.channel,{history:hr({},V,{error:n.error})}))})),Zn),xr=Object(m.a)(hr((Jn={},Object(D.a)(Jn,gr,(function(e,t){var n=t.payload,r=n.channel,u=Object(H.a)([],[r,"items"],e),a=[].concat(Object(ze.a)(u),[n]),c=yr(a),o=a.length>c.length,i=Object(H.a)(!1,[r,"isEven"],e);return hr({},e,Object(D.a)({},r,hr({},e[r],{isEven:Br(i,1,o),items:c})))})),Object(D.a)(Jn,vr,(function(e,t){var n=t.payload,r=n.channel,u=n.items,a=Object(Ft.a)(u,Object(H.a)([],[r,"items"],e)),c=yr(a),o=a.length>c.length,i=Object(H.a)(!1,[r,"isEven"],e);return Object(U.a)(e,Object(D.a)({},r,{history:{items:[]},items:a,isEven:Br(i,u.length,o)}))})),Object(D.a)(Jn,Ar,(function(e,t){var n=t.payload,r=n.channel,u=n.tags.targetUserId,a=e[r].items.map((function(e){return e.tags.userId!==u||e.isHistory?e:hr({},e,{isDeleted:!0})}));return hr({},e,Object(D.a)({},r,hr({},e[r],{items:a})))})),Jn),wr),{});function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kr=function(){try{return JSON.parse(localStorage.options)}catch(e){return{}}},Tr=_r({showTimestamps:!1,splitChat:!0,blacklistKeywords:"",highlightKeywords:""},kr()),Pr=Object(E.a)("CHANGE_OPTION",(function(e,t){return localStorage.setItem("options",JSON.stringify(_r({},kr(),Object(D.a)({},e,t)))),{option:e,value:t}})),Rr=Object(m.a)(Object(D.a)({},Pr,(function(e,t){var n=t.payload,r=n.option,u=n.value;return _r({},e,Object(D.a)({},r,u))})),Tr),Lr=Object(l.c)({auth:L,badges:ie,chat:_e,emotes:jt,messages:xr,options:Rr}),Ir=Object(l.a)(f.a),Hr=Object(l.d)(Lr,{},Ir),Ur=n(9),Mr=n(65),Nr=n(43),qr=function(){var e=Object(u.useState)(window.location.hash),t=Object(yt.a)(e,2),n=t[0],r=t[1];return Object(u.useEffect)((function(){var e=function(){return r(window.location.hash)};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}),[]),n},zr=function(e){Object(u.useEffect)((function(){document.title=e?"#".concat(e," - ").concat("Honey Chat"," "):"Honey Chat"}),[e])},Gr=function(e){return Object(H.a)([],["messages",on(e),"items"],e)},Qr=function(e){return Object(H.a)(!1,["messages",on(e),"history","isLoaded"])(e)},Vr=function(e){return e.split(" ").map((function(e){if(":"!==e[0]||":"!==e[e.length-1])return e;var t=e.slice(1,-1),n=St[t];return n&&n.char?n.char:e})).join(" ")},Wr=n(3),Zr=n(4),Jr=function(e){return[{title:"My preferences",items:[{type:"SWITCH",id:"show-timestamps",name:"showTimestamps",title:"Show Timestamps",description:"",value:e.options.showTimestamps},{type:"SWITCH",id:"split-chat",name:"splitChat",title:"Split Chat",description:"",value:e.options.splitChat}]}]},Kr=function(e){return e.options.showTimestamps},Yr=function(e){return e.options.splitChat},Xr=n(170);function $r(){var e=Object(Wr.a)(["\n  overflow-y: auto;\n\n  .ScrollbarsCustom-TrackY {\n    background: none !important;\n  }\n\n  .ScrollbarsCustom-ThumbY {\n    margin-left: auto;\n    margin-right: auto;\n    width: 6px !important;\n  }\n"]);return $r=function(){return e},e}var eu=Object(Zr.c)(Xr.a).attrs({disableTracksWidthCompensation:!0})($r()),tu=n(112);function nu(){return(nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ru(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var uu=a.a.createElement("g",{fill:"currentColor"},a.a.createElement("path",{d:"M7 11a1 1 0 100-2 1 1 0 000 2zM14 10a1 1 0 11-2 0 1 1 0 012 0zM10 14a2 2 0 002-2H8a2 2 0 002 2z"}),a.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0a6 6 0 11-12 0 6 6 0 0112 0z",clipRule:"evenodd"})),au=function(e){var t=e.svgRef,n=e.title,r=ru(e,["svgRef","title"]);return a.a.createElement("svg",nu({width:"100%",height:"100%",viewBox:"0 0 20 20",x:"0px",y:"0px",ref:t},r),n?a.a.createElement("title",null,n):null,uu)},cu=a.a.forwardRef((function(e,t){return a.a.createElement(au,nu({svgRef:t},e))}));n.p;function ou(){return(ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iu(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var su=a.a.createElement("g",{fill:"currentColor"},a.a.createElement("path",{d:"M10 8a2 2 0 100 4 2 2 0 000-4z"}),a.a.createElement("path",{fillRule:"evenodd",d:"M9 2h2a2.01 2.01 0 001.235 1.855l.53.22a2.01 2.01 0 002.185-.439l1.414 1.414a2.01 2.01 0 00-.439 2.185l.22.53A2.01 2.01 0 0018 9v2a2.01 2.01 0 00-1.855 1.235l-.22.53a2.01 2.01 0 00.44 2.185l-1.415 1.414a2.01 2.01 0 00-2.184-.439l-.531.22A2.01 2.01 0 0011 18H9a2.01 2.01 0 00-1.235-1.854l-.53-.22a2.009 2.009 0 00-2.185.438L3.636 14.95a2.009 2.009 0 00.438-2.184l-.22-.531A2.01 2.01 0 002 11V9c.809 0 1.545-.487 1.854-1.235l.22-.53a2.009 2.009 0 00-.438-2.185L5.05 3.636a2.01 2.01 0 002.185.438l.53-.22A2.01 2.01 0 009 2zm-4 8l1.464 3.536L10 15l3.535-1.464L15 10l-1.465-3.536L10 5 6.464 6.464 5 10z",clipRule:"evenodd"})),lu=function(e){var t=e.svgRef,n=e.title,r=iu(e,["svgRef","title"]);return a.a.createElement("svg",ou({width:"100%",height:"100%",viewBox:"0 0 20 20",x:"0px",y:"0px",ref:t},r),n?a.a.createElement("title",null,n):null,su)},fu=a.a.forwardRef((function(e,t){return a.a.createElement(lu,ou({svgRef:t},e))}));n.p;function Du(){return(Du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bu(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var pu=a.a.createElement("path",{fill:"currentColor",d:"M8.5 10L4 5.5 5.5 4 10 8.5 14.5 4 16 5.5 11.5 10l4.5 4.5-1.5 1.5-4.5-4.5L5.5 16 4 14.5 8.5 10z"}),du=function(e){var t=e.svgRef,n=e.title,r=bu(e,["svgRef","title"]);return a.a.createElement("svg",Du({width:"100%",height:"100%",viewBox:"0 0 20 20",x:"0px",y:"0px",ref:t},r),n?a.a.createElement("title",null,n):null,pu)},Eu=a.a.forwardRef((function(e,t){return a.a.createElement(du,Du({svgRef:t},e))}));n.p;function mu(){var e=Object(Wr.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  outline: none;\n  color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n\n  ",";\n\n  &:hover,\n  &:focus {\n    background-color: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  &:focus {\n    box-shadow: 0 0 6px 0 #772ce8;\n  }\n"]);return mu=function(){return e},e}function hu(){var e=Object(Wr.a)(["\n    width: 30px;\n    height: 30px;\n  "]);return hu=function(){return e},e}function Ou(){var e=Object(Wr.a)(["\n    width: 24px;\n    height: 24px;\n  "]);return Ou=function(){return e},e}var gu={small:Object(Zr.b)(Ou()),medium:Object(Zr.b)(hu())},vu=Zr.c.button.attrs({type:"button"})(mu(),(function(e){return gu[e.size]}));vu.defaultProps={size:"medium"},vu.propTypes={size:wt.a.oneOf(Object.keys(gu))};var ju=vu;function Cu(){var e=Object(Wr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return Cu=function(){return e},e}function Fu(){var e=Object(Wr.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]);return Fu=function(){return e},e}function Au(){var e=Object(Wr.a)(["\n  height: 100%;\n  box-shadow: rgba(0, 0, 0, 0.4) 0px 4px 8px 0px,\n    rgba(0, 0, 0, 0.4) 0px 0px 4px 0px;\n  background-color: #18181b;\n  white-space: normal;\n  color: #fff;\n  border-radius: 4px;\n"]);return Au=function(){return e},e}var yu=Zr.c.div(Au()),Bu=Object(Zr.c)(ju).attrs({size:"small"})(Fu()),wu=Object(Zr.c)(Eu)(Cu()),xu=function(e){var t=e.children,n=e.onClose;return a.a.createElement(yu,null,a.a.createElement(Bu,{onClick:n},a.a.createElement(wu,null)),t)};xu.defaultProps={};var Su=xu;function _u(){var e=Object(Wr.a)(["\n  padding: 2px;\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n\n  &:hover {\n    background-color: rgba(119, 44, 232, 0.2);\n    cursor: pointer;\n  }\n"]);return _u=function(){return e},e}function ku(){var e=Object(Wr.a)([""]);return ku=function(){return e},e}function Tu(){var e=Object(Wr.a)(["\n  padding-bottom: 10px;\n  font-size: 12px;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.8);\n"]);return Tu=function(){return e},e}function Pu(){var e=Object(Wr.a)(["\n  padding-top: 10px;\n  padding-right: 16px;\n  padding-left: 16px;\n\n  &:not(:last-child) {\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n  }\n"]);return Pu=function(){return e},e}function Ru(){var e=Object(Wr.a)(["\n  height: 100%;\n"]);return Ru=function(){return e},e}function Lu(){var e=Object(Wr.a)(["\n  padding-top: 32px;\n  padding-bottom: 16px;\n  height: 100%;\n"]);return Lu=function(){return e},e}var Iu=Zr.c.div(Lu()),Hu=Zr.c.div(Ru()),Uu=Zr.c.div(Pu()),Mu=Zr.c.div(Tu()),Nu=Zr.c.div(ku()),qu=Zr.c.img(_u()),zu=function(e){var t=e.onEmoteClick,n=Object(Ur.c)(An),r=Object(u.useCallback)((function(e,n){var r=e.title,u=e.items;return a.a.createElement(Uu,{key:n},!!r&&a.a.createElement(Mu,null,r),a.a.createElement(Nu,null,u.map((function(e){var n=e.alt,r=e.src,u=e.srcSet;return a.a.createElement(qu,{key:n,alt:n,src:r,srcSet:u,onClick:function(){return t(n)}})}))))}),[t]);return a.a.createElement(Iu,null,a.a.createElement(Hu,null,a.a.createElement(eu,null,n.map(r))))};zu.defaultProps={};var Gu=zu;function Qu(){var e=Object(Wr.a)(["\n  position: absolute;\n  opacity: 0;\n\n  &:checked + "," {\n    background-color: #9147ff;\n\n    &:after {\n      content: '';\n      top: 2px;\n      left: calc(100% - 18px);\n    }\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: 9px;\n      left: 10px;\n      display: block;\n      height: 3px;\n      width: 7px;\n      border-bottom: 2px solid #fff;\n      border-left: 2px solid #fff;\n      transform: translate3d(-50%, -50%, 0) rotate(-45deg);\n    }\n  }\n"]);return Qu=function(){return e},e}function Vu(){var e=Object(Wr.a)(["\n  content: '';\n  position: relative;\n  display: inline-block;\n  order: 0;\n  width: 35px;\n  height: 20px;\n  vertical-align: bottom;\n  border-radius: 10px/50%;\n  background-color: rgba(0, 0, 0, 0.3);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15), 0 0 2px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.1s ease;\n  cursor: pointer;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    bottom: 2px;\n    display: block;\n    width: 16px;\n    border-radius: 50%;\n    background-color: #fff;\n    transition: left 0.1s ease;\n  }\n"]);return Vu=function(){return e},e}function Wu(){var e=Object(Wr.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  line-height: 20px;\n"]);return Wu=function(){return e},e}var Zu=Zr.c.div(Wu()),Ju=Zr.c.label(Vu()),Ku=Zr.c.input.attrs({type:"checkbox"})(Qu(),Ju),Yu=function(e){var t=e.id,n=e.label,r=e.checked,u=e.readOnly,c=e.onChange;return a.a.createElement(Zu,null,a.a.createElement(Ku,{id:t,label:n,checked:r,readOnly:u,onChange:c}),a.a.createElement(Ju,{htmlFor:t}))};Yu.defaultProps={checked:!1,readOnly:!1,onChange:function(){}};var Xu=Yu;function $u(){var e=Object(Wr.a)([""]);return $u=function(){return e},e}function ea(){var e=Object(Wr.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 4px 0;\n  cursor: pointer;\n"]);return ea=function(){return e},e}function ta(){var e=Object(Wr.a)([""]);return ta=function(){return e},e}function na(){var e=Object(Wr.a)(["\n  padding: 8px 0;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.6);\n"]);return na=function(){return e},e}function ra(){var e=Object(Wr.a)(["\n  &:not(:last-child) {\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n  }\n"]);return ra=function(){return e},e}function ua(){var e=Object(Wr.a)(["\n  height: 100%;\n"]);return ua=function(){return e},e}function aa(){var e=Object(Wr.a)(["\n  margin: 0;\n  padding: 0;\n  font-size: 14px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.8);\n"]);return aa=function(){return e},e}function ca(){var e=Object(Wr.a)(["\n  padding: 16px;\n  height: 100%;\n"]);return ca=function(){return e},e}var oa=Zr.c.div(ca()),ia=Zr.c.h2(aa()),sa=Object(Zr.c)(eu)(ua()),la=Zr.c.div(ra()),fa=Zr.c.div(na()),Da=Zr.c.div(ta()),ba=Zr.c.div(ea()),pa=Zr.c.span($u()),da=function(){var e=Object(Ur.b)(),t=Object(Ur.c)(Jr),n=Object(u.useCallback)((function(t){var n=t.id,r=t.name,u=t.title,c=t.description,o=t.value;return a.a.createElement(ba,{key:n,onClick:function(){return e(Pr(r,!o))},title:c},a.a.createElement(pa,null,u),a.a.createElement(Xu,{id:n,label:u,checked:o,onChange:function(){return e(Pr(r,o))}}))}),[e]),r=Object(u.useCallback)((function(e,t){var r=e.title,u=e.items;return a.a.createElement(la,{key:t},!!r&&a.a.createElement(fa,null,r),a.a.createElement(Da,null,u.map(n)))}),[n]);return a.a.createElement(oa,null,a.a.createElement(ia,null,"Chat settings"),a.a.createElement(sa,null,t.map(r)))};da.defaultProps={};var Ea=da;function ma(){var e=Object(Wr.a)(["\n  color: #bf94ff;\n  text-decoration: none;\n\n  &:focus,\n  &:hover {\n    color: #a970ff;\n    text-decoration: underline;\n  }\n\n  &:visited {\n    color: #a970ff;\n  }\n"]);return ma=function(){return e},e}function ha(){var e=Object(Wr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return ha=function(){return e},e}function Oa(){var e=Object(Wr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return Oa=function(){return e},e}function ga(){var e=Object(Wr.a)(["\n  position: absolute;\n  right: 5px;\n  bottom: 5px;\n"]);return ga=function(){return e},e}function va(){var e=Object(Wr.a)(["\n  display: block;\n  padding: 10px;\n  width: 100%;\n  height: 38px;\n  max-height: 91px;\n  min-height: 40px;\n  overflow: hidden;\n  border: 2px solid transparent;\n  background-color: rgba(255, 255, 255, 0.15);\n  font-family: inherit;\n  font-size: 12px;\n  line-height: 1.5;\n  border-radius: 4px;\n  outline: none;\n  color: #fff;\n  resize: none;\n  transition-duration: 0.1s;\n  transition-timing-function: ease-in;\n  transition-property: box-shadow, border, background-color;\n\n  &:focus {\n    background-color: #000;\n    border-color: #9147ff;\n  }\n\n  &[disabled] {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"]);return va=function(){return e},e}function ja(){var e=Object(Wr.a)(["\n  position: absolute;\n  top: auto;\n  right: 0;\n  bottom: 100%;\n  margin-bottom: 10px;\n  width: 320px;\n  height: 405px;\n  min-width: 0;\n  white-space: nowrap;\n"]);return ja=function(){return e},e}function Ca(){var e=Object(Wr.a)(["\n  position: absolute;\n  top: auto;\n  right: 0;\n  bottom: 100%;\n  margin-bottom: 8px;\n  width: 320px;\n  height: 405px;\n  min-width: 0;\n  white-space: nowrap;\n"]);return Ca=function(){return e},e}function Fa(){var e=Object(Wr.a)(["\n  position: relative;\n"]);return Fa=function(){return e},e}function Aa(){var e=Object(Wr.a)(["\n  padding: 0 10px;\n  height: 30px;\n  border: none;\n  color: #fff;\n  background-color: #9147ff;\n  outline: none;\n  font-size: 12px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #772ce8;\n  }\n\n  &:active {\n    background-color: #5c16c5;\n  }\n\n  &:focus {\n    box-shadow: 0 0 6px 0 #772ce8;\n  }\n\n  &[disabled] {\n    background-color: rgba(255, 255, 255, 0.26);\n    color: rgba(255, 255, 255, 0.8);\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]);return Aa=function(){return e},e}function ya(){var e=Object(Wr.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n\n  & > :not(:last-child) {\n    margin-right: 8px;\n  }\n"]);return ya=function(){return e},e}function Ba(){var e=Object(Wr.a)(["\n  position: relative;\n"]);return Ba=function(){return e},e}function wa(){var e=Object(Wr.a)(["\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 10px;\n  background-color: #18181b;\n\n  & > :not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]);return wa=function(){return e},e}var xa=Zr.c.form(wa()),Sa=Zr.c.div(Ba()),_a=Zr.c.div(ya()),ka=Zr.c.button(Aa()),Ta=Zr.c.div(Fa()),Pa=Zr.c.div(Ca()),Ra=Zr.c.div(ja()),La=Zr.c.textarea(va()),Ia=Object(Zr.c)(ju)(ga()),Ha=Object(Zr.c)(cu)(Oa()),Ua=Object(Zr.c)(fu)(ha()),Ma=Object(Zr.c)(Mr.b)(ma()),Na=function(e){var t=e.isAuth,n=e.isDisabled,r=e.onSubmit,c=Object(u.useRef)(null),o=Object(u.useState)(""),i=Object(yt.a)(o,2),s=i[0],l=i[1],f=Object(u.useState)(!1),D=Object(yt.a)(f,2),b=D[0],p=D[1],d=Object(u.useState)(!1),E=Object(yt.a)(d,2),m=E[0],h=E[1],O=a.a.useRef(null),g=a.a.useRef(null),v=function(){return p(!1)},j=function(){return h(!1)};Object(tu.a)(O,v),Object(tu.a)(g,j);var C=Object(u.useCallback)((function(e){if("Enter"===e.key){e.preventDefault();var t=s.trim();t&&(r(t),l(""))}}),[r,l,s]);Object(u.useEffect)((function(){var e=c.current;return e.addEventListener("keydown",C,!1),function(){e.removeEventListener("keydown",C,!1)}}),[C]);var F=Object(u.useCallback)((function(){return a.a.createElement(Pa,null,a.a.createElement(Su,{onClose:v},a.a.createElement(Gu,{onEmoteClick:function(e){return l((function(t){return"".concat(t.trim()," ").concat(e," ").trimLeft()}))}})))}),[]),A=Object(u.useCallback)((function(){return a.a.createElement(Ra,{ref:g},a.a.createElement(Su,{onClose:j},a.a.createElement(Ea,null)))}),[]);return a.a.createElement(xa,{onSubmit:function(e){e.preventDefault(),r(s),l("")}},a.a.createElement(Ta,{ref:O},b&&F(),a.a.createElement(La,{placeholder:"Send a message",ref:c,maxLength:500,disabled:n,onChange:function(e){return l(e.target.value)},value:s}),a.a.createElement(Ia,{onClick:function(){return p(!b)}},a.a.createElement(Ha,null))),a.a.createElement(Sa,null,a.a.createElement(_a,null,!t&&a.a.createElement(Ma,{to:"/chat/auth"},"Sign in with Twitch"),a.a.createElement(ju,{onClick:function(){return h(!m)}},a.a.createElement(Ua,null)),a.a.createElement(ka,{disabled:n,type:"submit"},"Chat")),m&&A()))};Na.defaultProps={isDisabled:!1};var qa=Na,za=(wt.a.shape({type:wt.a.oneOf([M]).isRequired,message:wt.a.string.isRequired,messageArray:wt.a.arrayOf(wt.a.oneOfType([wt.a.string,Xt,$t,en,tn,nn,rn])).isRequired,tags:wt.a.shape({badgeInfo:wt.a.shape({subscriber:wt.a.string}),badges:wt.a.shape({}),color:wt.a.string,displayName:wt.a.string.isRequired,emotes:wt.a.shape({}),flags:wt.a.string,id:wt.a.string,mod:wt.a.bool,roomId:wt.a.string,tmiSentId:wt.a.oneOfType([wt.a.string,wt.a.number]),userId:wt.a.string}).isRequired,badges:wt.a.arrayOf(wt.a.shape({alt:wt.a.string,label:wt.a.string,src:wt.a.string.isRequired,srcSet:wt.a.string})),user:wt.a.string.isRequired,isHistory:wt.a.bool,isAction:wt.a.bool,isDeleted:wt.a.bool}),wt.a.shape({type:wt.a.oneOf([N]).isRequired,message:wt.a.string.isRequired,channel:wt.a.string.isRequired,tags:wt.a.shape({msgId:wt.a.string.isRequired}).isRequired}),wt.a.shape({type:wt.a.oneOf([q]).isRequired,message:wt.a.string,channel:wt.a.string.isRequired,tags:wt.a.shape({badgeInfo:wt.a.shape({subscriber:wt.a.string}),badges:wt.a.shape({}),color:wt.a.string,displayName:wt.a.string.isRequired,emotes:wt.a.shape({}),id:wt.a.string,login:wt.a.string,mod:wt.a.bool,msgId:wt.a.string,systemMsg:wt.a.string,tmiSentId:wt.a.oneOfType([wt.a.string,wt.a.number]),userId:wt.a.string,msgParamCumulativeMonths:wt.a.number,msgParamDisplayName:wt.a.string,msgParamLogin:wt.a.string,msgParamMonths:wt.a.number,msgParamPromoGiftTotal:wt.a.number,msgParamPromoName:wt.a.string,msgParamRecipientDisplayName:wt.a.string,msgParamRecipientId:wt.a.string,msgParamRecipientUserName:wt.a.string,msgParamSenderLogin:wt.a.string,msgParamSenderName:wt.a.string,msgParamShouldShareStreak:wt.a.bool,msgParamStreakMonths:wt.a.number,msgParamSubPlan:wt.a.string,msgParamSubPlanName:wt.a.string,msgParamViewerCount:wt.a.number,msgParamRitualName:wt.a.string,msgParamThreshold:wt.a.number}).isRequired}),n(334));function Ga(){var e=Object(Wr.a)(["\n  margin-bottom: 2px;\n  margin-right: 3px;\n  max-width: 100%;\n  vertical-align: middle;\n  border-radius: 3px;\n"]);return Ga=function(){return e},e}function Qa(){var e=Object(Wr.a)(["\n  margin-right: 5px;\n  color: rgba(255, 255, 255, 0.6);\n"]);return Qa=function(){return e},e}function Va(){var e=Object(Wr.a)(["\n  color: #bf94ff;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: #a970ff;\n    text-decoration: underline;\n  }\n\n  &:visited {\n    color: #a970ff;\n  }\n"]);return Va=function(){return e},e}function Wa(){var e=Object(Wr.a)(["\n      background-color: #fafafa;\n      color: #18181b;\n    "]);return Wa=function(){return e},e}function Za(){var e=Object(Wr.a)(["\n      background-color: #40404a;\n      color: #fff;\n    "]);return Za=function(){return e},e}function Ja(){var e=Object(Wr.a)(["\n      padding: 2px 4px;\n    "]);return Ja=function(){return e},e}function Ka(){var e=Object(Wr.a)(["\n  ",";\n  ",";\n  ",";\n"]);return Ka=function(){return e},e}function Ya(){var e=Object(Wr.a)(["\n  display: inline-block;\n  margin-top: -5px;\n  margin-bottom: -4px;\n  width: 20px;\n  height: auto;\n  vertical-align: middle;\n"]);return Ya=function(){return e},e}function Xa(){var e=Object(Wr.a)(["\n  display: inline-block;\n  margin: -5px 0;\n  vertical-align: middle;\n"]);return Xa=function(){return e},e}function $a(){var e=Object(Wr.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return $a=function(){return e},e}function ec(){var e=Object(Wr.a)(["\n  padding: 5px 20px;\n  color: ",";\n  opacity: ",";\n  line-height: 20px;\n  word-wrap: break-word;\n  background-color: ",";\n"]);return ec=function(){return e},e}var tc=Zr.c.div(ec(),(function(e){return e.isAction?e.color:"#fff"}),(function(e){return e.isHistory||e.isDeleted?"0.5":"1"}),(function(e){return e.isMention?"rgba(255, 0, 0, 0.3)":e.isEven?"#1f1925":"transparent"})),nc=Zr.c.span($a(),(function(e){return e.color})),rc=Zr.c.img(Xa()),uc=Zr.c.img(Ya()),ac=Zr.c.span(Ka(),(function(e){return(e.isActive||e.isOwnMessage)&&Object(Zr.b)(Ja())}),(function(e){return e.isOwnMessage&&Object(Zr.b)(Za())}),(function(e){return e.isActive&&Object(Zr.b)(Wa())})),cc=Zr.c.a(Va()),oc=Zr.c.span(Qa()),ic=Zr.c.img(Ga()),sc=function(e){var t=e.message,n=t.message,r=t.messageArray,c=t.tags,o=c.color,i=c.displayName,s=c.tmiSentTs,l=t.badges,f=t.user,D=t.isHistory,b=t.isAction,p=t.isDeleted,d=e.login,E=e.isEven,m=e.isShowTimestamps,h=Object(u.useState)(!1),O=Object(yt.a)(h,2),g=O[0],v=O[1],j=f!==d&&RegExp(d,"gi").test(n);return a.a.createElement(tc,{isHistory:D,isAction:b,isEven:E,isMention:j,isDeleted:p,color:o},m&&a.a.createElement(oc,null,Object(za.a)("h:mm",new Date(s))),l.length>0&&function(e){return e.map((function(e,t){var n=e.alt,r=e.label,u=e.src,c=e.srcSet;return a.a.createElement(ic,{key:t,alt:n,"aria-label":r,src:u,srcSet:c})}))}(l),a.a.createElement(nc,{color:o},i),b?" ":": ",p&&!g?a.a.createElement(cc,{onClick:function(){return v(!0)}},"<message deleted>"):r.map(function(e,t){return function(n,r){return"object"!==typeof n?n:"twitch-emote"===n.type||"bttv-emote"===n.type||"ffz-emote"===n.type?a.a.createElement(rc,{key:r,src:n.src,srcSet:n.srcSet,alt:n.alt}):"emoji"===n.type?a.a.createElement(uc,{key:r,src:n.src,srcSet:n.srcSet,alt:n.alt}):"mention"===n.type?a.a.createElement(ac,{key:r,isActive:n.target===t,isOwnMessage:e===t},n.text):"link"===n.type?a.a.createElement(cc,{key:r,href:n.href,rel:"noreferrer noopener",target:"_blank"},n.text):null}}(f,d)))};sc.defaultProps={login:"",isEven:!1,isShowTimestamps:!1};var lc=a.a.memo(sc);function fc(){var e=Object(Wr.a)(["\n  padding: 5px 20px;\n  color: rgba(255, 255, 255, 0.6);\n  line-height: 20px;\n  word-wrap: break-word;\n  background-color: ",";\n"]);return fc=function(){return e},e}var Dc=Zr.c.div(fc(),(function(e){return e.isEven?"#1f1925":"transparent"})),bc=function(e){var t=e.message.message,n=e.isEven;return a.a.createElement(Dc,{isEven:n},t)};bc.defaultProps={isEven:!1};var pc=a.a.memo(bc);function dc(){var e=Object(Wr.a)(["\n  padding: 5px 20px 5px 16px;\n  line-height: 20px;\n  word-wrap: break-word;\n  border-left: 4px solid #9147ff;\n  color: #fff;\n"]);return dc=function(){return e},e}var Ec=Zr.c.div(dc()),mc=a.a.memo((function(e){var t=e.message.tags.systemMsg;return a.a.createElement(Ec,null,t)})),hc=function(e){var t=e.message,n=e.login,r=e.isEven,u=e.isShowTimestamps;return t.type===M?a.a.createElement(lc,{message:t,login:n,isEven:r,isShowTimestamps:u}):t.type===N?a.a.createElement(pc,{message:t,isEven:r}):t.type===q?a.a.createElement(mc,{message:t}):null};hc.defaultProps={login:"",isEven:!1,isShowTimestamps:!1};var Oc=hc;function gc(){var e=Object(Wr.a)(["\n  position: absolute;\n  left: 50%;\n  bottom: 10px;\n  display: ",";\n  padding: 5px 20px;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  border-radius: 4px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transform: translateX(-50%);\n"]);return gc=function(){return e},e}function vc(){var e=Object(Wr.a)(["\n  .ScrollbarsCustom-Content {\n    padding-bottom: 10px !important;\n  }\n"]);return vc=function(){return e},e}function jc(){var e=Object(Wr.a)(["\n  position: relative;\n  flex-grow: 1;\n"]);return jc=function(){return e},e}function Cc(){var e=Object(Wr.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #18181b;\n"]);return Cc=function(){return e},e}function Fc(){var e=Object(Wr.a)(["\n  height: 100vh;\n  font-size: 12px;\n"]);return Fc=function(){return e},e}var Ac=Zr.c.div(Fc()),yc=Zr.c.div(Cc()),Bc=Zr.c.div(jc()),wc=Object(Zr.c)(eu)(vc()),xc=Zr.c.button(gc(),(function(e){return e.visible?"block":"none"})),Sc=function(e){var t=e.onSendMessage,n=Object(Ur.c)((function(e){return e.auth.isAuth})),r=Object(Ur.c)(Gr),c=Object(Ur.c)((function(e){return e.chat.isConnected})),o=Object(Ur.c)(ln),i=Object(Ur.c)((function(e){return e.auth.user.login})),s=Object(Ur.c)(Kr),l=Object(Ur.c)(Yr),f=Object(u.useState)(!1),D=Object(yt.a)(f,2),b=D[0],p=D[1],d=Object(u.useRef)(null),E=function(){d.current&&d.current.scrollToBottom&&d.current.scrollToBottom()};Object(u.useEffect)((function(){b||E()}),[r]);var m=function(e){return!!l&&(o?e%2===1:e%2===0)};return a.a.createElement(Ac,null,a.a.createElement(yc,null,a.a.createElement(Bc,null,a.a.createElement(wc,{onUpdate:function(e){var t=e.clientHeight,n=e.contentScrollHeight,r=e.scrollTop;p(r+100<n-t)},ref:d},r.map((function(e,t){return a.a.createElement(Oc,{key:e.tags.id,message:e,login:i,isEven:m(t),isShowTimestamps:s})}))),a.a.createElement(xc,{onClick:E,visible:b},"More messages below")),a.a.createElement(qa,{onSubmit:t,isDisabled:!n||!c,isAuth:n})))};function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tc=null,Pc=function(){var e=Object(Ur.b)(),t=Object(Ur.c)((function(e){return e.auth.isAuth})),n=Object(Ur.c)((function(e){return e.auth.user.login})),r=Object(Ur.c)((function(e){return e.auth.user.id})),c=Object(Ur.c)(on),o=Object(Ur.c)(sn),i=Object(Ur.c)(Dn),s=Object(Ur.c)(xn),l=Object(Ur.c)(Bn),f=Object(Ur.c)(wn),D=Object(Ur.c)(kn),b=Object(Ur.c)(Qr),E=Object(Ur.c)(fn),m=qr(),h=c&&(!t||s)&&(!t||E)&&l&&f&&D&&b;zr(c),Object(u.useEffect)((function(){var t=localStorage.getItem("user");if(t){var n=JSON.parse(t);e(k({isAuth:!0,user:n}))}}),[e]),Object(u.useEffect)((function(){if(m&&m.length>1){var t=m.slice(1);e(Oe(t)),localStorage.setItem("lastChannel",t)}}),[e,m]),Object(u.useEffect)((function(){if(!c)return function(){};var r={identity:{name:n,auth:localStorage.accessToken}},u=function(){return e(ge(!0))},a=function(){return e(ge(!0))},o=function(t){return e(ve(t))},s=function(t){return e(je(t))},l=function(t){return e(Ce(t))},f=function(t){i.includes(t.user)||e(function(e){var t=e.message,n=e.tags,r=Object(Ct.a)(e,["message","tags"]);return function(e,u){var a=u(),c=Sn(a),o=_n(a),i=jn(a),s=hr({type:M,message:t,messageArray:cn(t,n.emotes,i),tags:n,badges:Tn(n.badges,c,o)},r);e(gr(s))}}(t))},D=function(t){var n,r=kc({},t,{tags:kc({},t.tags,{id:Qn()()})});e((n=r,function(e){var t=hr({},n,{type:N});e(gr(t))}))},b=function(t){return e((n=t,function(e){var t=hr({},n,{type:q});e(gr(t))}));var n},p=function(t){t.tags.targetUserId&&e(Ar(t))};return Tc||(Tc=new dr(t?r:{})).connect(),Tc.on("connected",u),Tc.on("disconnected",a),Tc.on("globaluserstate",o),Tc.on("userstate",s),Tc.on("roomstate",l),Tc.on("message",f),Tc.on("ownmessage",f),Tc.on("notice",D),Tc.on("usernotice",b),Tc.on("clearchat",p),Tc.join(c),function(){Tc.off("connected",u),Tc.off("disconnected",a),Tc.off("globaluserstate",o),Tc.off("userstate",s),Tc.off("roomstate",l),Tc.off("message",f),Tc.off("ownmessage",f),Tc.off("notice",D),Tc.off("usernotice",b),Tc.off("clearchat",p)}}),[e,n,c,t,i.length]),Object(u.useEffect)((function(){e(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Je()),e.prev=1,e.next=4,O("https://api.betterttv.net/3/cached/emotes/global");case 4:n=e.sent,t(Ke({items:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Ye({error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Dt()),e.prev=1,e.next=4,O("https://api.frankerfacez.com/v1/set/global");case 4:n=e.sent,r={items:ht(n)},t(bt(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(pt({error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($()),e.prev=1,e.next=4,A();case 4:n=e.sent,r={items:ae(n)},t(ee(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(te({error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(u.useEffect)((function(){var t;c&&e((t=c,function(){var e=Object(d.a)(p.a.mark((function e(n){var r,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(jr({channel:t})),e.prev=1,e.next=4,F(t);case 4:r=e.sent,u={channel:t,items:r.messages},n(Cr(u)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Fr({channel:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,c]),Object(u.useEffect)((function(){var t;h&&e((t=c,function(e,n){var r=n(),u=Object(H.a)([],["messages",t,"history","items"],r),a={channel:t,items:Er(r,u)};e(vr(a))}))}),[e,c,h]),Object(u.useEffect)((function(){r&&(e(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(He),t.prev=1,t.next=4,v(e);case 4:r=t.sent,u={items:r.emoticon_sets},n(Ue(u)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Me({error:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(r)),e(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ye()),t.prev=1,t.next=4,B(e);case 4:r=t.sent,n(Be({items:xe(r)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(we({error:t.t0}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(r)))}),[e,r]),Object(u.useEffect)((function(){var t,n;c&&o&&(e((t=o,n=c,function(){var e=Object(d.a)(p.a.mark((function e(r){var u,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Xe({channel:n})),e.prev=1,e.next=4,j(t);case 4:u=e.sent,a={channel:n,items:tt(u)},r($e(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(et({channel:n,error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),e(function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var u,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(dt({channel:t})),n.prev=1,n.next=4,C(e);case 4:u=n.sent,a={channel:t,items:ht(u)},r(Et(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(mt({channel:t,error:n.t0}));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,c)),e(function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var u,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ne({channel:t})),n.prev=1,n.next=4,y(e);case 4:u=n.sent,a={channel:t,items:ae(u)},r(re(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(ue({channel:t,error:n.t0}));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,c)))}),[e,c,o]);return a.a.createElement(Sc,{onSendMessage:function(e){var t=Vr(e.trim());Tc.say(c,t)}})},Rc={client_id:"4e66w1po1tzf645r9vutn9qus05vg9x",redirect_uri:"https://honeykingdom.github.io/chat/",response_type:"token+id_token",scope:["openid","channel:moderate","chat:edit","chat:read","whispers:read","whispers:edit","user_blocks_read","user_blocks_edit","user_subscriptions"].join("+"),claims:JSON.stringify({id_token:{email_verified:null,picture:null,preferred_username:null}})},Lc=function(){var e=Object.entries(Rc).map((function(e){var t=Object(yt.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&");return"".concat("https://id.twitch.tv/oauth2/authorize","?").concat(e)},Ic=function(){return window.location.href=Lc(),null},Hc=n(176),Uc=n.n(Hc),Mc=function(){var e=Object(Ur.b)(),t=Object(Nr.f)();if(!window.location.hash)return null;var n=new URLSearchParams(window.location.hash.slice(1)),r=n.get("access_token"),u=n.get("id_token");if(!r||!u)return null;localStorage.setItem("accessToken",r),localStorage.setItem("idToken",u),e(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,u,a,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T()),t.prev=1,t.next=4,g(e);case 4:r=t.sent,u=r.data[0],a=u.login,c=u.display_name,o={id:e,login:a,displayName:c},localStorage.setItem("user",JSON.stringify(o)),n(P(o)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(R(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(Uc.a.decode(u).sub));var a=localStorage.getItem("lastChannel");return t.push(a?"/chat/#".concat(a):"/chat/"),null};function Nc(){var e=Object(Wr.a)(["\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n    font-family: Roobert, Helvetica Neue, Helvetica, Arial, sans-serif;\n  }\n"]);return Nc=function(){return e},e}var qc=Object(Zr.b)(Nc());function zc(){var e=Object(Wr.a)([""]);return zc=function(){return e},e}var Gc=Object(Zr.b)(zc());function Qc(){var e=Object(Wr.a)([""]);return Qc=function(){return e},e}var Vc=Object(Zr.b)(Qc());function Wc(){var e=Object(Wr.a)(["\n  :root {\n    ",";\n    ",";\n  }\n  ",";\n"]);return Wc=function(){return e},e}var Zc=Object(Zr.a)(Wc(),Gc,Vc,qc),Jc=function(e){var t=e.store;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ur.a,{store:t},a.a.createElement(Mr.a,null,a.a.createElement(Nr.c,null,a.a.createElement(Nr.a,{exact:!0,path:"/chat/",component:s(window.location.hash)?Mc:Pc}),a.a.createElement(Nr.a,{exact:!0,path:"/chat/auth",component:Ic})))),a.a.createElement(Zc,null))};if(i.a.initialize("UA-139550930-3"),!s(window.location.hash)){var Kc=window.location.pathname+window.location.search+window.location.hash;i.a.pageview(Kc)}o.a.render(a.a.createElement(Jc,{store:Hr}),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.3ff94258.chunk.js.map