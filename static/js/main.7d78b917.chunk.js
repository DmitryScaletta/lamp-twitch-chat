(this["webpackJsonphoney-chat"]=this["webpackJsonphoney-chat"]||[]).push([[0],{183:function(e,t,n){e.exports=n(316)},206:function(e,t,n){"use strict";(function(e){var r,u=(r=n(122))&&"object"==typeof r&&"default"in r?r.default:r,a=n(122),o=n(67),c=n(207);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,l=function(){return"justinfan"+Math.floor(1e5*Math.random()).toString().padStart(5,"0")},f=function(e){return e.startsWith("\x01ACTION ")&&e.endsWith("\x01")},p=function(e){return e.slice(8,-1)},m=function(e){return e.middle[0].slice(1)},b=!("undefined"==typeof e||!e.versions||!e.versions.node),D=["mod","emote-only","r9k","rituals","subs-only","msg-param-should-share-streak"],d=["tmi-sent-ts","bits","ban-duration","msg-param-cumulative-months","msg-param-months","msg-param-promo-gift-total","msg-param-streak-months","msg-param-viewerCount","msg-param-threshold"],g={"badge-info":"badgeInfo","display-name":"displayName","emote-sets":"emoteSets","room-id":"roomId","tmi-sent-ts":"tmiSentTs","user-id":"userId","target-msg-id":"targetMsgId","msg-id":"msgId","system-msg":"systemMsg","emote-only":"emoteOnly","followers-only":"followersOnly","subs-only":"subsOnly","ban-duration":"banDuration","message-id":"messageId","thread-id":"threadId","msg-param-cumulative-months":"msgParamCumulativeMonths","msg-param-displayName":"msgParamDisplayName","msg-param-login":"msgParamLogin","msg-param-months":"msgParamMonths","msg-param-promo-gift-total":"msgParamPromoGiftTotal","msg-param-promo-name":"msgParamPromoName","msg-param-recipient-display-name":"msgParamRecipientDisplayName","msg-param-recipient-id":"msgParamRecipientId","msg-param-recipient-user-name":"msgParamRecipientUserName","msg-param-sender-login":"msgParamSenderLogin","msg-param-sender-name":"msgParamSenderName","msg-param-should-share-streak":"msgParamShouldShareStreak","msg-param-streak-months":"msgParamStreakMonths","msg-param-sub-plan":"msgParamSubPlan","msg-param-sub-plan-name":"msgParamSubPlanName","msg-param-viewerCount":"msgParamViewerCount","msg-param-ritual-name":"msgParamRitualName","msg-param-threshold":"msgParamThreshold"},h=["subscriber","turbo","user-type"],E=function(e){return void 0===e&&(e=""),e?e.split(",").reduce((function(e,t){var n,r=t.split("/");return i({},e,((n={})[r[0]]=r[1],n))}),{}):{}},v=function(e){return e?Object.entries(e).reduce((function(e,t){var n,r=t[0],u=t[1];return h.includes(r)?e:i({},e,((n={})[g[r]||r]=function(e,t){if("emotes"===e)return void 0===(n=t)&&(n=""),n?n.split("/").reduce((function(e,t){var n,r=t.split(":");return i({},e,((n={})[r[0]]=r[1].split(",").map((function(e){var t=e.split("-"),n=t[1];return{start:Number.parseInt(t[0],10),end:Number.parseInt(n,10)}})),n))}),{}):{};var n;if("badges"===e)return E(t);if("badge-info"===e)return E(t);if("followers-only"===e){var r=!1;return"-1"===t?r=!1:"0"===t?r=!0:"string"==typeof t&&(r=parseInt(t,10)),r}if("slow"===e){var u=!1;return"0"===t?u=!1:"string"==typeof t&&(u=parseInt(t,10)),u}return D.includes(e)?"1"===t:d.includes(e)?parseInt(t,10):"string"==typeof t?t.replace("\\s"," "):t}(r,u),n))}),{}):{}},O=function(e){var t=e.tags;return{raw:e.raw,channel:m(e),get tags(){return v(t)}}},C=function(e){var t=e.tags;return{raw:e.raw,message:e.trailing,channel:m(e),get tags(){return v(t)}}};(s=t.Commands||(t.Commands={})).REPLY001="001",s.PING="PING",s.PONG="PONG",s.JOIN="JOIN",s.PART="PART",s.PRIVMSG="PRIVMSG",s.NOTICE="NOTICE",s.USERNOTICE="USERNOTICE",s.GLOBALUSERSTATE="GLOBALUSERSTATE",s.USERSTATE="USERSTATE",s.ROOMSTATE="ROOMSTATE",s.CLEARCHAT="CLEARCHAT",s.CLEARMSG="CLEARMSG",s.HOSTTARGET="HOSTTARGET",s.WHISPER="WHISPER";var j,A=function(e){var n,r;function o(t){var n;return void 0===t&&(t={}),(n=e.call(this)||this).socket=null,n.globalUserState=null,n.channels={},n._connected=!1,n._connecting=!1,n._registered=!1,n.options=i({secure:!0},t),n}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s,D=o.prototype;return D.connect=function(){try{var e=this,t=b?e._connectInNode():e._connectInBrowser();return Promise.resolve(t).then((function(){return e._register()}))}catch(e){return Promise.reject(e)}},D.disconnect=function(){this._connected&&(b?this.socket.destroy():this.socket.close(),this.socket=null,this._connected=!1,this._connecting=!1,this._registered=!1,this.emit("disconnect"))},D.receiveRaw=function(e){var t=this;e.trim().split("\r\n").forEach((function(e){return t._handleMessage(e)}))},D.sendRaw=function(e){return!(null===this.socket||!e||(b?this.socket.write(e):this.socket.send(e),0))},D.say=function(e,n){var r=c.format({command:t.Commands.PRIVMSG,middle:["#"+e],trailing:n});return this.sendRaw(r)},D.sendCommand=function(e,n,r){void 0===r&&(r="");var u=Array.isArray(r)?r.join(" "):r,a=c.format({command:t.Commands.PRIVMSG,middle:["#"+e],trailing:"/"+n+" "+u});return this.sendRaw(a)},D.join=function(e){if(!this._registered)return!1;var n=c.format({command:t.Commands.JOIN,middle:["#"+e]});return this.sendRaw(n)},D.part=function(e){if(!this._registered)return!1;var n=c.format({command:t.Commands.PART,middle:["#"+e]});return this.sendRaw(n)},D._handleMessage=function(e){var n=c.parse(e);n.raw=e;var r=n.command;if(r===t.Commands.PING)return this.sendRaw(t.Commands.PONG+" :tmi.twitch.tv"),void this.emit("ping",{raw:e});if(r===t.Commands.REPLY001)return this.options.name=n.middle[0],this._registered=!0,void this.emit("register");if(r!==t.Commands.PRIVMSG){if(r===t.Commands.USERSTATE){var u=m(n),a=O(n);return this._updateUserState(u,a.tags),void this.emit("userstate",a)}if(r!==t.Commands.JOIN)if(r!==t.Commands.PART){if(r===t.Commands.ROOMSTATE){var o=m(n),i=O(n);return this._updateRoomState(o,i.tags),void this.emit("roomstate",i)}if(r!==t.Commands.NOTICE)if(r!==t.Commands.USERNOTICE)if(r!==t.Commands.CLEARCHAT)if(r!==t.Commands.CLEARMSG)if(r!==t.Commands.HOSTTARGET)if(r!==t.Commands.WHISPER){var s,l;if(r===t.Commands.GLOBALUSERSTATE){var b=function(e){var t=e.tags;return{raw:e.raw,get tags(){return v(t)}}}(n);return this._updateGlobalUserState(b.tags),void this.emit("globaluserstate",b)}}else{var D=(l=(s=n).tags,{raw:s.raw,message:s.trailing,channel:s.middle[0],user:s.prefix.name,get tags(){return v(l)}});this.emit("whisper",D)}else{var d=C(n);this.emit("hosttarget",d)}else{var g=C(n);this.emit("clearmessage",g)}else{var h=C(n);this.emit("clearchat",h)}else{var E=C(n);this.emit("usernotice",E)}else{var j=C(n);this.emit("notice",j)}}else{var A=m(n);this.emit("part",{channel:A})}else{var y=m(n);this.emit("join",{channel:y})}}else{var F=function(e){var t=e.raw,n=e.trailing,r=e.tags,u=e.prefix.name,a=f(n);return{raw:t,message:a?p(n):n,channel:m(e),user:u,get tags(){return v(r)},isAction:a}}(n);this.emit("message",F)}},D._connectInNode=function(){var e=this,t="irc.chat.twitch.tv",n=this.options.secure?6697:6667;return new Promise((function(r,o){e._connecting=!0;var c=function(){e._connecting=!1,e._connected=!0,e.emit("connect"),r()};e.options.secure?e.socket=u.connect(n,t,{},c):(e.socket=new a.Socket,e.socket.connect(n,t,c)),e.socket.on("error",(function(t){e._connected=!1,e._connecting=!1,e.emit("disconnect",t),o(t)})),e.socket.on("data",(function(t){e.receiveRaw(t.toString())})),e.socket.on("close",(function(){e._connected=!1,e._connecting=!1,e._registered=!1,e.emit("disconnect")}))}))},D._connectInBrowser=function(){var e=this,t=this.options.secure?"wss://irc-ws.chat.twitch.tv:443":"ws://irc-ws.chat.twitch.tv:80";return new Promise((function(n,r){e._connecting=!0,e.socket=new WebSocket(t),e.socket.onopen=function(){e._connected=!0,e._connecting=!1,e.emit("connect"),n()},e.socket.onmessage=function(t){return e.receiveRaw(t.data)},e.socket.onerror=function(){},e.socket.onclose=function(t){var n=t.wasClean,u=t.code,a=t.reason;if(e.socket=null,e._connected=!1,e._connecting=!1,e._registered=!1,n)e.emit("disconnect");else{var o=new Error("["+u+"] "+a);e.emit("disconnect",o),r(o)}}}))},D._register=function(){var e=this;if(!this._connected)return Promise.reject();if(this._registered)return Promise.resolve();var t=this.options,n=t.auth,r=t.name||l(),u=n?"oauth:"+n:"SCHMOOPIIE";return this.sendRaw("CAP REQ :twitch.tv/tags twitch.tv/commands"),this.sendRaw("PASS "+u),this.sendRaw("NICK "+r),new Promise((function(t,n){var r=function n(){t(),e.off("register",n)};e.on("register",r),setTimeout((function(){n(),e.off("register",r)}),1e4)}))},D._updateGlobalUserState=function(e){this.globalUserState=i({},this.globalUserState,{},e)},D._updateUserState=function(e,t){var n;this.channels=i({},this.channels,((n={})[e]=i({},this.channels[e],{userState:t}),n))},D._updateRoomState=function(e,t){var n;this.channels=i({},this.channels,((n={})[e]=i({},this.channels[e],{roomState:t}),n))},(s=[{key:"connected",get:function(){return this._connected}},{key:"connecting",get:function(){return this._connecting}},{key:"registered",get:function(){return this._registered}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,s),o}(o.EventEmitter);(j=t.UserNoticeType||(t.UserNoticeType={})).sub="sub",j.resub="resub",j.subgift="subgift",j.anonsubgift="anonsubgift",j.submysterygift="submysterygift",j.giftpaidupgrade="giftpaidupgrade",j.rewardgift="rewardgift",j.anongiftpaidupgrade="anongiftpaidupgrade",j.raid="raid",j.unraid="unraid",j.ritual="ritual",j.bitsbadgetier="bitsbadgetier",t.Client=A,t.getChannelFromMessage=m,t.getIsAction=f,t.getRandomUsername=l,t.isNode=b,t.normalizeActionMessage=p,t.parseMessageTags=v}).call(this,n(18))},216:function(e,t){},218:function(e,t){},255:function(e,t){},256:function(e,t){},316:function(e,t,n){"use strict";n.r(t);var r=n(0),u=n.n(r),a=n(63),o=n.n(a),c=n(113),i=function(e){return e.startsWith("#access_token=")},s=n(36),l=n(168),f=n(9),p=n.n(f),m=n(15),b=n(2),D=n(115),d=n(328),g=n(330),h="MESSAGE",E="NOTICE_MESSAGE",v="USER_NOTICE_MESSAGE",O={users:{name:"users",limit:5,regex:/^@([\w\d_]*)$/},emotes:{name:"emotes",limit:10,regex:/^:([\w\d_]{2,})$/}},C={DEFAULT:{isLoading:!1,isLoaded:!1,isError:!1,error:null},REQUEST:{isLoading:!0,isLoaded:!1,isError:!1,error:null},SUCCESS:{isLoading:!1,isLoaded:!0,isError:!1,error:null},FAILURE:{isLoading:!1,isLoaded:!1,isError:!0}},j=["msg_banned","msg_bad_characters","msg_channel_blocked","msg_channel_suspended","msg_duplicate","msg_emoteonly","msg_facebook","msg_followersonly","msg_followersonly_followed","msg_followersonly_zero","msg_r9k","msg_ratelimit","msg_rejected","msg_rejected_mandatory","msg_room_not_found","msg_slowmode","msg_subsonly","msg_suspended","msg_timedout","msg_verified_email"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,u,a,o,c,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=y({},n),n.timeout&&(u=new AbortController,delete r.timeout,r=y({},r,{signal:u.signal}),setTimeout((function(){return u.abort()}),n.timeout)),e.next=5,fetch(t,r);case 5:return a=e.sent,e.next=8,a.json();case 8:if(o=e.sent,a.ok){e.next=13;break}throw(c=Error(a.statusText)).data=o,c;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x,B=function(e,t){return F(e,w({},t,{timeout:1e4}))},P=function(e,t){return B("".concat("https://api.twitch.tv/kraken").concat(e),w({},t,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"4e66w1po1tzf645r9vutn9qus05vg9x",Authorization:"OAuth ".concat(localStorage.accessToken)}}))},k=function(e){return t="/users?id=".concat(e),B("".concat("https://api.twitch.tv/helix").concat(t),w({},n,{headers:{Authorization:"Bearer ".concat(localStorage.accessToken)}}));var t,n},_=function(e){return P("/users/".concat(e,"/emotes"))},R=function(e){return B("https://api.betterttv.net/3/cached/users/twitch/".concat(e))},T=function(e){return B("https://api.frankerfacez.com/v1/room/id/".concat(e))},L=function(e){return B("https://recent-messages.robotty.de/api/v2/recent-messages/".concat(e,"?clearchatToNotice=true"))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return B("https://badges.twitch.tv/v1/badges/global/display?language=".concat(e))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return B("https://badges.twitch.tv/v1/badges/channels/".concat(e,"/display?language=").concat(t))},N=function(e){return P("/users/".concat(e,"/blocks"))};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G,z,q={isAuthReady:!1,isAuth:!1,user:H({},C.default,{id:null,login:null,displayName:null})},W=Object(D.a)("SET_AUTH"),Q=Object(D.a)("FETCH_USER_REQUEST"),V=Object(D.a)("FETCH_USER_SUCCESS"),K=Object(D.a)("FETCH_USER_FAILURE"),J=(x={},Object(b.a)(x,Q,(function(e){return g.a(e,{isAuthReady:!1,isAuth:!1,user:H({},C.REQUEST)})})),Object(b.a)(x,V,(function(e,t){var n=t.payload;return g.a(e,{isAuthReady:!0,isAuth:!0,user:H({},C.SUCCESS,{},n)})})),Object(b.a)(x,K,(function(e,t){var n=t.payload;return g.a(e,{isAuthReady:!0,isAuth:!1,user:H({},C.FAILURE,{error:n.error})})})),x),Z=Object(d.a)(H(Object(b.a)({},W,(function(e,t){var n=t.payload;return g.a(e,n)})),J),q),Y=n(327),$=n(182);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te,ne,re={global:ee({},C.DEFAULT,{items:{}}),channels:{}},ue=Object(Y.a)("FETCH_GLOBAL_BADGES_REQUEST","FETCH_GLOBAL_BADGES_SUCCESS","FETCH_GLOBAL_BADGES_FAILURE","FETCH_CHANNEL_BADGES_REQUEST","FETCH_CHANNEL_BADGES_SUCCESS","FETCH_CHANNEL_BADGES_FAILURE"),ae=ue.fetchGlobalBadgesRequest,oe=ue.fetchGlobalBadgesSuccess,ce=ue.fetchGlobalBadgesFailure,ie=ue.fetchChannelBadgesRequest,se=ue.fetchChannelBadgesSuccess,le=ue.fetchChannelBadgesFailure,fe=$.a({},["badge_sets"]),pe=(G={},Object(b.a)(G,ae,(function(e){return g.a(e,{global:ee({},C.REQUEST)})})),Object(b.a)(G,oe,(function(e,t){var n=t.payload;return g.a(e,{global:ee({},C.SUCCESS,{items:n.items})})})),Object(b.a)(G,ce,(function(e,t){var n=t.payload;return g.a(e,{global:ee({},C.FAILURE,{error:n.error})})})),G),me=(z={},Object(b.a)(z,ie,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,ee({},C.REQUEST))})})),Object(b.a)(z,se,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,ee({},C.SUCCESS,{items:n.items}))})})),Object(b.a)(z,le,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,ee({},C.FAILURE,{error:n.error}))})})),z),be=Object(d.a)(ee({},pe,{},me),re),De=n(329),de=n(318),ge=n(332),he=n(78),Ee=n(319);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce,je={currentChannel:null,isConnected:!1,globalState:{},channels:{},blockedUsers:Oe({},C.DEFAULT,{items:[]})},Ae=Object(Y.a)("SET_CURRENT_CHANNEL","SET_IS_CONNECTED","UPDATE_GLOBAL_USER_STATE","UPDATE_USER_STATE","UPDATE_ROOM_STATE","REMOVE_CHANNEL"),ye=Ae.setCurrentChannel,Fe=Ae.setIsConnected,Se=Ae.updateGlobalUserState,we=Ae.updateUserState,xe=Ae.updateRoomState,Be=Ae.removeChannel,Pe=Object(Y.a)("FETCH_BLOCKED_USERS_REQUEST","FETCH_BLOCKED_USERS_SUCCESS","FETCH_BLOCKED_USERS_FAILURE"),ke=Pe.fetchBlockedUsersRequest,_e=Pe.fetchBlockedUsersSuccess,Re=Pe.fetchBlockedUsersFailure,Te=De.a(de.a("blocks"),ge.a(he.a(["user","name"]))),Le=(te={},Object(b.a)(te,ke,(function(e){return g.a(e,{blockedUsers:Oe({},C.REQUEST)})})),Object(b.a)(te,_e,(function(e,t){var n=t.payload;return g.a(e,{blockedUsers:Oe({},C.SUCCESS,{items:n.items})})})),Object(b.a)(te,Re,(function(e,t){var n=t.payload;return g.a(e,{blockedUsers:Oe({},C.FAILURE,{error:n.error})})})),te),Ue=Object(d.a)(Oe((ne={},Object(b.a)(ne,ye,(function(e,t){return Oe({},e,{currentChannel:t.payload})})),Object(b.a)(ne,Fe,(function(e,t){return Oe({},e,{isConnected:t.payload})})),Object(b.a)(ne,Se,(function(e,t){var n=t.payload.tags;return Oe({},e,{globalState:Oe({},e.globalState,{},n)})})),Object(b.a)(ne,we,(function(e,t){var n=t.payload,r=n.channel,u=n.tags;return g.a(e,{channels:Object(b.a)({},r,{userState:u})})})),Object(b.a)(ne,xe,(function(e,t){var n=t.payload,r=n.channel,u=n.tags;return g.a(e,{channels:Object(b.a)({},r,{roomState:u})})})),Object(b.a)(ne,Be,(function(e,t){var n=t.payload;return Oe({},e,{channels:Ee.a([n],e.channels)})})),ne),Le),je);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me,He,Ge=Ne({},C.DEFAULT,{items:{}}),ze=Object(Y.a)("FETCH_TWITCH_EMOTES_REQUEST","FETCH_TWITCH_EMOTES_SUCCESS","FETCH_TWITCH_EMOTES_FAILURE"),qe=ze.fetchTwitchEmotesRequest,We=ze.fetchTwitchEmotesSuccess,Qe=ze.fetchTwitchEmotesFailure,Ve=(Ce={},Object(b.a)(Ce,qe,(function(e){return Ne({},e,{},C.REQUEST)})),Object(b.a)(Ce,We,(function(e,t){var n=t.payload;return Ne({},e,{},C.SUCCESS,{items:n.items})})),Object(b.a)(Ce,Qe,(function(e,t){var n=t.payload;return Ne({},e,{},C.FAILURE,{error:n.error})})),Ce),Ke=Object(d.a)(Ve,Ge),Je=n(31);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e,Xe,et=Object(Y.a)("FETCH_BTTV_GLOBAL_EMOTES_REQUEST","FETCH_BTTV_GLOBAL_EMOTES_SUCCESS","FETCH_BTTV_GLOBAL_EMOTES_FAILURE","FETCH_BTTV_CHANNEL_EMOTES_REQUEST","FETCH_BTTV_CHANNEL_EMOTES_SUCCESS","FETCH_BTTV_CHANNEL_EMOTES_FAILURE"),tt=et.fetchBttvGlobalEmotesRequest,nt=et.fetchBttvGlobalEmotesSuccess,rt=et.fetchBttvGlobalEmotesFailure,ut=et.fetchBttvChannelEmotesRequest,at=et.fetchBttvChannelEmotesSuccess,ot=et.fetchBttvChannelEmotesFailure,ct=function(e){var t=e.channelEmotes,n=e.sharedEmotes;return[].concat(Object(Je.a)(t),Object(Je.a)(n))},it=(Me={},Object(b.a)(Me,tt,(function(e){return g.a(e,{global:Ye({},C.REQUEST)})})),Object(b.a)(Me,nt,(function(e,t){var n=t.payload;return g.a(e,{global:Ye({},C.SUCCESS,{items:n.items})})})),Object(b.a)(Me,rt,(function(e,t){var n=t.payload;return g.a(e,{global:Ye({},C.FAILURE,{error:n.error})})})),Me),st=(He={},Object(b.a)(He,ut,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,Ye({},C.REQUEST))})})),Object(b.a)(He,at,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,Ye({},C.SUCCESS,{items:n.items}))})})),Object(b.a)(He,ot,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,Ye({},C.FAILURE,{error:n.error}))})})),He),lt=Object(d.a)(Ye({},it,{},st),{global:{isLoading:!1,isLoaded:!1,isError:!1,error:null,items:[]},channels:{}}),ft=n(320),pt=n(321),mt=n(322),bt=n(333);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=Object(Y.a)("FETCH_FFZ_GLOBAL_EMOTES_REQUEST","FETCH_FFZ_GLOBAL_EMOTES_SUCCESS","FETCH_FFZ_GLOBAL_EMOTES_FAILURE","FETCH_FFZ_CHANNEL_EMOTES_REQUEST","FETCH_FFZ_CHANNEL_EMOTES_SUCCESS","FETCH_FFZ_CHANNEL_EMOTES_FAILURE"),ht=gt.fetchFfzGlobalEmotesRequest,Et=gt.fetchFfzGlobalEmotesSuccess,vt=gt.fetchFfzGlobalEmotesFailure,Ot=gt.fetchFfzChannelEmotesRequest,Ct=gt.fetchFfzChannelEmotesSuccess,jt=gt.fetchFfzChannelEmotesFailure,At=function(e){var t=e.default_sets,n=e.sets;return De.a(ft.a(t),pt.a,ge.a(mt.a([],"emoticons")),bt.a)(n)},yt=De.a($.a({},["sets"]),pt.a,ge.a($.a([],["emoticons"])),bt.a),Ft=($e={},Object(b.a)($e,ht,(function(e){return g.a(e,{global:dt({},C.REQUEST)})})),Object(b.a)($e,Et,(function(e,t){var n=t.payload;return g.a(e,{global:dt({},C.SUCCESS,{items:n.items})})})),Object(b.a)($e,vt,(function(e,t){var n=t.payload;return g.a(e,{global:dt({},C.FAILURE,{error:n.error})})})),$e),St=(Xe={},Object(b.a)(Xe,Ot,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,dt({},C.REQUEST))})})),Object(b.a)(Xe,Ct,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,dt({},C.SUCCESS,{items:n.items}))})})),Object(b.a)(Xe,jt,(function(e,t){var n=t.payload;return g.a(e,{channels:Object(b.a)({},n.channel,dt({},C.FAILURE,{error:n.error}))})})),Xe),wt=Object(d.a)(dt({},Ft,{},St),{global:{isLoading:!1,isLoaded:!1,isError:!1,error:null,items:[]},channels:{}}),xt=Object(s.c)({twitch:Ke,bttv:lt,ffz:wt}),Bt=n(47),Pt=n(10),kt=n(1),_t=n.n(kt),Rt=n(170),Tt=n(81),Lt=n(171),Ut=n.n(Lt),It=n(323),Nt=n(326),Mt=n(331),Ht=n(324),Gt=n(180),zt=n(26),qt=n(334),Wt=/^(?:(?:[a-z]+:)?\/\/)/,Qt=function(e){return Wt.test(e)?e:"//".concat(e)};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kt,Jt,Zt="//static-cdn.jtvnw.net/emoticons/v1",Yt=/^@((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])+)/,$t=Ut()({strict:!1}),Xt=De.a(It.a,ge.a((function(e){var t=Object(Pt.a)(e,2),n=t[0],r=t[1];return ge.a((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:n},e)}),r)})),bt.a),en=De.a(It.a,ge.a((function(e){var t=Object(Pt.a)(e,2),n=t[0],r=t[1];return"".concat(r," ").concat(n,"x")})),Nt.a(", ")),tn=function(e){var t=e.id;return{type:"twitch-emote",alt:e.code,src:"".concat(Zt,"/").concat(t,"/1.0"),srcSet:"".concat(Zt,"/").concat(t,"/1.0 1x, ").concat(Zt,"/").concat(t,"/2.0 2x, ").concat(Zt,"/").concat(t,"/3.0 4x")}},nn=function(e){var t=e.id;return{type:"bttv-emote",alt:e.code,src:"".concat("//cdn.betterttv.net/emote","/").concat(t,"/1x"),srcSet:"".concat("//cdn.betterttv.net/emote","/").concat(t,"/2x 2x, ").concat("//cdn.betterttv.net/emote","/").concat(t,"/3x 4x")}},rn=function(e){var t=e.name,n=e.urls;return{type:"ffz-emote",alt:t,src:n[1],srcSet:en(n)}},un=function(e,t){return{type:"mention",text:e,target:t}},an=_t.a.shape({type:_t.a.oneOf(["twitch-emote"]).isRequired,alt:_t.a.string.isRequired,src:_t.a.string.isRequired,srcSet:_t.a.string.isRequired}),on=_t.a.shape({type:_t.a.oneOf(["bttv-emote"]).isRequired,alt:_t.a.string.isRequired,src:_t.a.string.isRequired,srcSet:_t.a.string.isRequired}),cn=_t.a.shape({type:_t.a.oneOf(["ffz-emote"]).isRequired,alt:_t.a.string.isRequired,src:_t.a.string.isRequired,srcSet:_t.a.string.isRequired}),sn=_t.a.shape({type:_t.a.oneOf(["emoji"]).isRequired,alt:_t.a.string.isRequired,src:_t.a.string.isRequired,srcSet:_t.a.string}),ln=_t.a.shape({type:_t.a.oneOf(["mention"]).isRequired,text:_t.a.string.isRequired,target:_t.a.string.isRequired}),fn=_t.a.shape({type:_t.a.oneOf(["link"]).isRequired,text:_t.a.string.isRequired,href:_t.a.string.isRequired}),pn={4:">\\(",9:"<3"},mn=function(e,t){return Mt.a((function(t){var n=t.id,r=t.code;return n>=1&&n<=14?RegExp("^".concat(pn[n]||r,"$")).test(e):e===r}),t)},bn=function(e,t){for(var n=0,r=Object.values(t);n<r.length;n++){var u=r[n],a=mn(e,u);if(a)return a}return null},Dn=function(e,t){return Mt.a(Ht.a("code",e),t)},dn=function(e,t){return Mt.a(Ht.a("name",e),t)},gn=function(e,t,n){var r=n.parseTwitch,u=void 0!==r&&r;if(!t)return null;var a=t.twitchGlobal,o=t.twitchUser,c=t.bttvGlobal,i=t.bttvChannel,s=t.ffzGlobal,l=t.ffzChannel;if(u){var f=bn(e,a)||bn(e,o);if(f)return tn({id:f.id,code:e})}var p=Dn(e,c)||Dn(e,i);if(p)return nn(p);var m=dn(e,s)||dn(e,l);if(m)return rn(m);var b,D,d=Object(Rt.parse)(e,{assetType:"png"});if(d&&1===d.length&&d[0].text.length===e.length){var g=(D=e,De.a(Gt.a(Ht.a("char",D)),zt.a,qt.a)(Tt));if(g){var h=Object(Pt.a)(d,1)[0].url;return b=h,{type:"emoji",alt:":".concat(g,":"),src:b,srcSet:null}}}var E=e.match(Yt);if(E){var v=Object(Pt.a)(E,2),O=v[0],C=v[1];return[un(O,C.toLowerCase()),e.length-O.length]}var j,A=e.match($t);return A&&A[0].length===e.length?{type:"link",text:j=e,href:Qt(j)}:null},hn=function(e,t,n){var r=void 0===t||null===t,u=t&&Object.keys(t).length>0,a=Xt(t),o=[],c=0,i=0;do{var s=e.indexOf(" ",c+1),l=0===c?c:c+1,f=-1===s?e.length:s,p=e.substring(l,f);if(p){var m=null;if(u){var b=Mt.a(Ht.a("start",l),a);b&&(m=tn({id:b.id,code:p}))}if(m||(m=gn(p,n,{parseTwitch:r})),m){if(i!==l){var D=e.substring(i,l);o.push(D)}if(Array.isArray(m)){var d=m,g=Object(Pt.a)(d,2),h=g[0],E=g[1];o.push(h),i=f-E}else o.push(m),i=f}}if(-1===s&&i!==f){var v=e.substring(i,f);o.push(v)}c=s}while(-1!==c);return o},En=function(e){return e.badges.global.items},vn=function(e){return $.a({},["badges","channels",jn(e),"items"],e)},On=function(e){return function(e){return e.badges.global.isLoaded||e.badges.global.isError}(e)&&function(e){var t=jn(e);return $.a(!1,["badges","channels",t,"isLoaded"],e)||$.a(!1,["badges","channels",t,"isError"],e)}(e)},Cn=function(e,t,n){return De.a(It.a,ge.a((function(e){var r=Object(Pt.a)(e,2),u=r[0],a=r[1],o=$.a(!1,[u,"versions",a],n)||$.a(!1,[u,"versions",a],t);return!!o&&function(e){var t=e.title,n=e.description,r=e.image_url_1x,u=e.image_url_2x,a=e.image_url_4x;return{alt:t,label:n,src:r,srcSet:"".concat(r," 1x, ").concat(u," 2x, ").concat(a," 4x")}}(o)})),Gt.a(Boolean))(e)},jn=$.a("",["chat","currentChannel"]),An=function(e){return $.a(null,["chat","channels",jn(e),"roomState","roomId"],e)},yn=function(e){return e.chat.isConnected},Fn=function(e){return e.chat.blockedUsers.isLoaded||e.chat.blockedUsers.isError},Sn=function(e){return e.chat.blockedUsers.items},wn=function(e){return $.a("",["chat","channels",jn(e),"userState","color"],e)},xn=Object(Bt.a)((function(e){return $.a({},["chat","channels",jn(e),"userState","badges"],e)}),En,vn,(function(e,t,n){return Cn(e,t,n)})),Bn=function(e){return function(t){var n=jn(t),r=t.emotes[e].global.isLoaded||t.emotes[e].global.isError,u=he.a(["emotes",e,"channels",n,"isLoaded"],t)||he.a(["emotes",e,"channels",n,"isError"],t);return r&&u}},Pn=Bn("bttv"),kn=Bn("ffz"),_n=function(e){return e.emotes.twitch.isLoaded||e.emotes.twitch.isError},Rn=$.a([],["emotes","twitch","items"]),Tn=Object(Bt.a)(Rn,ft.a(["0"])),Ln=Object(Bt.a)(Rn,Ee.a(["0"])),Un=function(e){return $.a([],["emotes",e,"global","items"])},In=function(e){return function(t){return $.a([],["emotes",e,"channels",jn(t),"items"],t)}},Nn=Un("bttv"),Mn=In("bttv"),Hn=Un("ffz"),Gn=In("ffz"),zn=Object(Bt.a)((function(e){return _n(e)&&Pn(e)&&kn(e)}),Tn,Ln,Nn,Mn,Hn,Gn,(function(e,t,n,r,u,a,o){return e?{twitchGlobal:t,twitchUser:n,bttvGlobal:r,bttvChannel:u,ffzGlobal:a,ffzChannel:o}:null})),qn={"[oO](_|\\.)[oO]":"O_o","\\&gt\\;\\(":">(","\\&lt\\;3":"<3","\\:-?(o|O)":":O","\\:-?(p|P)":":P","\\:-?[\\\\/]":":/","\\:-?[z|Z|\\|]":":Z","\\:-?\\(":":(","\\:-?\\)":":)","\\:-?D":":D","\\;-?(p|P)":";P","\\;-?\\)":";)","R-?\\)":"R)","B-?\\)":"B)"},Wn=function(e){var t=e.id,n=e.code;return tn({id:t,code:qn[n]||n})},Qn=Object(Bt.a)(zn,(function(e){if(!e)return[];var t=e.twitchGlobal,n=e.twitchUser,r=e.bttvGlobal,u=e.bttvChannel,a=e.ffzGlobal,o=e.ffzChannel;return[{title:"BetterTTV Channel Emotes",items:u.map(nn)},{title:"FrankerFaceZ Channel Emotes",items:o.map(rn)}].concat(Object(Je.a)(De.a(pt.a,ge.a((function(e){return{items:ge.a(tn,e)}})))(n)),[{title:"Twitch",items:ge.a(Wn,mt.a([],"0",t))},{title:"BetterTTV",items:r.map(nn)},{title:"FrankerFaceZ",items:a.map(rn)}]).filter((function(e){return e.items.length>0}))})),Vn=n(172),Kn=n(56),Jn=function(e,t){var n=En(e),r=vn(e),u=zn(e),a=Sn(e);return t.map((function(e){return Object(Vn.parse)(e)})).filter((function(e){var t=e.command,n=e.prefix.user;return"PRIVMSG"===t&&!a.includes(n)})).map((function(e){var t=e.tags,a=Object(Pt.a)(e.params,2),o=a[0],c=a[1],i=e.prefix.user,s=Object(Kn.getIsAction)(c),l=s?Object(Kn.normalizeActionMessage)(c):c,f=Object(Kn.parseMessageTags)(t);return{type:h,message:l,messageArray:hn(l,f.emotes,u),tags:f,badges:Cn(f.badges,n,r),user:i,channel:o.slice(1),isAction:s,isHistory:!0}}))};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $n=Object(Y.a)("ADD_MESSAGES","FETCH_RECENT_MESSAGES_REQUEST","FETCH_RECENT_MESSAGES_SUCCESS","FETCH_RECENT_MESSAGES_FAILURE"),Xn=$n.addMessages,er=$n.fetchRecentMessagesRequest,tr=$n.fetchRecentMessagesSuccess,nr=$n.fetchRecentMessagesFailure,rr=Object(D.a)("CLEAR_CHAT"),ur=function(e){return function(t,n){var r=e.message,u=e.tags,a=e.user,o=n();if(!Sn(o).includes(a)){var c=En(o),i=vn(o),s=zn(o),l=Yn({},e,{type:h,messageArray:hn(r,u.emotes,s),badges:Cn(u.badges,c,i)});t(Xn({items:[l]}))}}},ar={history:{isAdded:!0,items:[]}},or=(Kt={},Object(b.a)(Kt,er,(function(e,t){var n=t.payload;return g.a(e,Object(b.a)({},n.channel,{history:Yn({},C.REQUEST)}))})),Object(b.a)(Kt,tr,(function(e,t){var n=t.payload;return g.a(e,Object(b.a)({},n.channel,{history:Yn({},C.SUCCESS,{items:n.items})}))})),Object(b.a)(Kt,nr,(function(e,t){var n=t.payload;return g.a(e,Object(b.a)({},n.channel,{history:Yn({},C.FAILURE,{error:n.error})}))})),Kt),cr=Object(d.a)(Yn((Jt={},Object(b.a)(Jt,Xn,(function(e,t){var n=t.payload,r=n.items,u=n.isHistory,a=he.a([0,"channel"],r),o=$.a([],[a,"items"],e),c=u?[].concat(Object(Je.a)(r),Object(Je.a)(o)):[].concat(Object(Je.a)(o),Object(Je.a)(r)),i=function(e){var t=e.length-500;return t>0?e.slice(t):e}(c),s=c.length>i.length,l=function(e,t,n){return n&&t%2?!e:e}($.a(!1,[a,"isEven"],e),r.length,s),f=$.a([],[a,"users"],e);return r.forEach((function(e){var t=he.a(["tags","displayName"],e);t&&!f.includes(t)&&(f=[].concat(Object(Je.a)(f),[t]))})),f=function(e){var t=e.length-500;return t>0?e.slice(t):e}(f),g.a(e,Object(b.a)({},a,Yn({},u?ar:{},{items:i,users:f,isEven:l})))})),Object(b.a)(Jt,rr,(function(e,t){var n=t.payload,r=n.channel,u=n.tags.targetUserId,a=e[r].items.map((function(e){return e.tags.userId!==u||e.isHistory?e:Yn({},e,{isDeleted:!0})}));return Yn({},e,Object(b.a)({},r,Yn({},e[r],{items:a})))})),Jt),or),{});function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lr=function(){try{return JSON.parse(localStorage.options)}catch(e){return{}}},fr=sr({showTimestamps:!1,splitChat:!0,blacklistKeywords:"",highlightKeywords:"",fixedWidth:!1},lr()),pr=Object(D.a)("CHANGE_OPTION",(function(e,t){return localStorage.setItem("options",JSON.stringify(sr({},lr(),Object(b.a)({},e,t)))),{option:e,value:t}})),mr=Object(d.a)(Object(b.a)({},pr,(function(e,t){var n=t.payload,r=n.option,u=n.value;return sr({},e,Object(b.a)({},r,u))})),fr),br=Object(s.c)({auth:Z,badges:be,chat:Ue,emotes:xt,messages:cr,options:mr}),Dr=Object(s.a)(l.a),dr=Object(s.d)(br,{},Dr),gr=n(5),hr=n(39),Er=n(43),vr=n(173),Or=n.n(vr),Cr=function(e){return e.auth.isAuthReady},jr=function(e){return e.auth.isAuth},Ar=function(e){return e.auth.user.login},yr=function(e){return e.auth.user.id},Fr=function(e){return e.auth.user.displayName},Sr=function(e){return $.a([],["messages",jn(e),"items"],e)},wr=function(e){return $.a([],["messages",jn(e),"users"],e)},xr=function(e){return $.a(!1,["messages",jn(e),"history","isLoaded"])(e)},Br=function(e){return $.a(!1,["messages",jn(e),"history","isAdded"])(e)},Pr=function(e){return $.a(!1,["messages",jn(e),"isEven"],e)},kr=function(){var e=Object(gr.b)(),t=Object(gr.c)(Cr),n=Object(gr.c)(jr),u=Object(gr.c)(yr),a=Object(gr.c)(jn),o=Object(gr.c)(An),c=Object(gr.c)(_n),i=Object(gr.c)(Pn),s=Object(gr.c)(kn),l=Object(gr.c)(On),f=Object(gr.c)(xr),b=Object(gr.c)(Fn),D=Object(gr.c)(Br),d=t&&a&&!D&&(!n||c)&&(!n||b)&&i&&s&&l&&f;Object(r.useEffect)((function(){e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt()),e.prev=1,e.next=4,B("https://api.betterttv.net/3/cached/emotes/global");case 4:n=e.sent,t(nt({items:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(rt({error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ht()),e.prev=1,e.next=4,B("https://api.frankerfacez.com/v1/set/global");case 4:n=e.sent,r={items:At(n)},t(Et(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(vt({error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ae()),e.prev=1,e.next=4,U();case 4:n=e.sent,r={items:fe(n)},t(oe(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(ce({error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(r.useEffect)((function(){var t;!D&&a&&e((t=a,function(){var e=Object(m.a)(p.a.mark((function e(n){var r,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(er({channel:t})),e.prev=1,e.next=4,L(t);case 4:r=e.sent,u={channel:t,items:r.messages},n(tr(u)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(nr({channel:t,error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,a,D]),Object(r.useEffect)((function(){var t;d&&e((t=a,function(e,n){var r=n(),u=$.a([],["messages",t,"history","items"],r),a={items:Jn(r,u),isHistory:!0};e(Xn(a))}))}),[e,a,d]),Object(r.useEffect)((function(){t&&n&&u&&(e(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(qe),t.prev=1,t.next=4,_(e);case 4:r=t.sent,u={items:r.emoticon_sets},n(We(u)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Qe({error:t.t0.message}));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(u)),e(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ke()),t.prev=1,t.next=4,N(e);case 4:r=t.sent,n(_e({items:Te(r)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Re({error:t.t0.message}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(u)))}),[e,t,n,u]),Object(r.useEffect)((function(){var t,n;a&&o&&(e((t=o,n=a,function(){var e=Object(m.a)(p.a.mark((function e(r){var u,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(ut({channel:n})),e.prev=1,e.next=4,R(t);case 4:u=e.sent,a={channel:n,items:ct(u)},r(at(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(ot({channel:n,error:e.t0.message}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),e(function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){var u,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ot({channel:t})),n.prev=1,n.next=4,T(e);case 4:u=n.sent,a={channel:t,items:yt(u)},r(Ct(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(jt({channel:t,error:n.t0.message}));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,a)),e(function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(r){var u,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie({channel:t})),n.prev=1,n.next=4,I(e);case 4:u=n.sent,a={channel:t,items:fe(u)},r(se(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(le({channel:t,error:n.t0.message}));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,a)))}),[e,a,o])},_r=function(){var e=Object(r.useState)(window.location.hash),t=Object(Pt.a)(e,2),n=t[0],u=t[1];return Object(r.useEffect)((function(){var e=function(){return u(window.location.hash)};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}),[]),n},Rr=function(){var e=Object(gr.b)(),t=_r();Object(r.useEffect)((function(){if(t&&t.length>1){var n=t.slice(1);e(ye(n)),localStorage.setItem("lastChannel",n),document.title=n?"#".concat(n," - ").concat("Honey Chat"," "):"Honey Chat"}}),[e,t])},Tr=n(82),Lr=n.n(Tr);var Ur=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current};function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mr=function(e,t,n,r,u){if("string"!==typeof e)return{};var a=e.startsWith("/me ");return{message:a?e.slice(4):e,tags:Nr({},t,{id:Lr()(),tmiSentTs:(new Date).getTime(),userId:u}),user:r,channel:n,isAction:a}};function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zr=function(){},qr=function(){var e=Object(gr.b)(),t=Object(gr.c)(Cr),n=Object(gr.c)(jr),u=Object(gr.c)(Ar),a=Object(gr.c)(yr),o=Object(gr.c)(yn),c=Object(gr.c)(jn),i=Ur(c),s=Object(r.useRef)(null),l=Object(r.useCallback)((function(t){t.current.on("register",(function(){return e(Fe(!0))})),t.current.on("disconnect",(function(){return e(Fe(!1))})),t.current.on("globaluserstate",(function(t){return e(Se(t))})),t.current.on("userstate",(function(t){return e(we(t))})),t.current.on("roomstate",(function(t){return e(xe(t))})),t.current.on("message",(function(t){return e(ur(t))})),t.current.on("notice",(function(n){if("Login authentication failed"===n.message)return e(W({isAuth:!1})),t.current.disconnect(),void(t.current=null);var r,u=Gr({},n,{tags:Gr({},n.tags,{id:Lr()()})});e((r=u,function(e){var t=Yn({},r,{type:E});e(Xn({items:[t]}))}))})),t.current.on("usernotice",(function(t){return e((n=t,function(e){var t=Yn({},n,{type:v});e(Xn({items:[t]}))}));var n})),t.current.on("clearchat",(function(t){t.tags.targetUserId&&e(rr(t))}))}),[e]);Object(r.useEffect)((function(){return function(){s.current&&(s.current.disconnect(),s.current=null)}}),[s]),Object(r.useEffect)((function(){if(!c||!t)return zr;if(!s.current){var e=n?{name:u,auth:localStorage.accessToken}:{};return Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.current=new Kn.Client(e),l(s),t.next=4,s.current.connect();case 4:s.current.join(c);case 5:case"end":return t.stop()}}),t)})))(),zr}return i!==c&&(s.current.part(i),s.current.join(c)),zr}),[e,l,n,t,o,u,c,i]);return Object(r.useMemo)((function(){return{say:function(t,n){function r(r){if(r.channel===t){var o=Mr(n,r.tags,t,u,a);e(ur(o)),c()}}function o(e){e.channel===t&&j.includes(e.tags.msgId)&&c()}function c(){s.current.off("notice",o),s.current.off("userstate",r)}s.current&&(s.current.say(t,n),s.current.on("notice",o),s.current.on("userstate",r),setTimeout((function(){return c()}),1e4))}}}),[s,e,u,a])},Wr=function(e){return e.split(" ").map((function(e){if(":"!==e[0]||":"!==e[e.length-1])return e;var t=e.slice(1,-1),n=Tt[t];return n&&n.char?n.char:e})).join(" ")},Qr=n(114),Vr=n(3),Kr=n(4);function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zr=function(e){var t=Object(r.useState)(e),n=Object(Pt.a)(t,2),u=n[0],a=n[1];return[u,Object(r.useCallback)((function(e){a((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},e instanceof Function?e(t):e)}))}),[a])]},Yr=function(e){return[{title:"My preferences",items:[{type:"SWITCH",id:"show-timestamps",name:"showTimestamps",title:"Show Timestamps",description:"",value:e.options.showTimestamps},{type:"SWITCH",id:"split-chat",name:"splitChat",title:"Split Chat",description:"",value:e.options.splitChat},{type:"SWITCH",id:"fixed-width",name:"fixedWidth",title:"Fixed Width",description:"",value:e.options.fixedWidth}]}]},$r=function(e){return e.options.showTimestamps},Xr=function(e){return e.options.splitChat},eu=function(e){return e.options.fixedWidth},tu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,u=[],a=e.toLowerCase(),o=n.toLowerCase();o.startsWith(a)&&u.push(n);var c=!0,i=!1,s=void 0;try{for(var l,f=t[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;if(u.length===r)return u;var m=p.toLowerCase();m!==o&&((""===a||m.startsWith(a))&&u.push(p))}}catch(b){i=!0,s=b}finally{try{c||null==f.return||f.return()}finally{if(i)throw s}}return u},nu=function(e,t,n,r){for(var u=0,a=Object.values(t);u<a.length;u++){var o=a[u],c=!0,i=!1,s=void 0;try{for(var l,f=o[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;if(e.length===r)return!0;p.code.toLowerCase().includes(n)&&e.push(tn(p))}}catch(m){i=!0,s=m}finally{try{c||null==f.return||f.return()}finally{if(i)throw s}}}return!1},ru=function(e,t,n,r){var u=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(u=(c=i.next()).done);u=!0){var s=c.value;if(e.length===r)return!0;s.code.toLowerCase().includes(n)&&e.push(nn(s))}}catch(l){a=!0,o=l}finally{try{u||null==i.return||i.return()}finally{if(a)throw o}}return!1},uu=function(e,t,n,r){var u=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(u=(c=i.next()).done);u=!0){var s=c.value;if(e.length===r)return!0;s.name.toLowerCase().includes(n)&&e.push(rn(s))}}catch(l){a=!0,o=l}finally{try{u||null==i.return||i.return()}finally{if(a)throw o}}return!1},au=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!t)return[];var r=[],u=t.twitchGlobal,a=t.twitchUser,o=t.bttvGlobal,c=t.bttvChannel,i=t.ffzGlobal,s=t.ffzChannel,l=e.toLowerCase();ru(r,c,l,n)||uu(r,s,l,n)||nu(r,a,l,n)||nu(r,u,l,n)||ru(r,o,l,n)||uu(r,i,l,n);return r},ou=n(84);function cu(){return(cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iu(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var su=u.a.createElement("path",{fill:"currentColor",d:"M8.5 10L4 5.5 5.5 4 10 8.5 14.5 4 16 5.5 11.5 10l4.5 4.5-1.5 1.5-4.5-4.5L5.5 16 4 14.5 8.5 10z"}),lu=function(e){var t=e.svgRef,n=e.title,r=iu(e,["svgRef","title"]);return u.a.createElement("svg",cu({viewBox:"0 0 20 20",ref:t},r),n?u.a.createElement("title",null,n):null,su)},fu=u.a.forwardRef((function(e,t){return u.a.createElement(lu,cu({svgRef:t},e))}));n.p;function pu(){var e=Object(Vr.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  outline: none;\n  color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n\n  ",";\n\n  &:hover,\n  &:focus {\n    background-color: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  &:focus {\n    box-shadow: 0 0 6px 0 #772ce8;\n  }\n"]);return pu=function(){return e},e}function mu(){var e=Object(Vr.a)(["\n    width: 30px;\n    height: 30px;\n  "]);return mu=function(){return e},e}function bu(){var e=Object(Vr.a)(["\n    width: 24px;\n    height: 24px;\n  "]);return bu=function(){return e},e}var Du={small:Object(Kr.b)(bu()),medium:Object(Kr.b)(mu())},du=Kr.c.button.attrs({type:"button"})(pu(),(function(e){return Du[e.size]}));du.defaultProps={size:"medium"},du.propTypes={size:_t.a.oneOf(Object.keys(Du))};var gu=du;function hu(){var e=Object(Vr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return hu=function(){return e},e}function Eu(){var e=Object(Vr.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]);return Eu=function(){return e},e}function vu(){var e=Object(Vr.a)(["\n  height: 100%;\n  box-shadow: rgba(0, 0, 0, 0.4) 0px 4px 8px 0px,\n    rgba(0, 0, 0, 0.4) 0px 0px 4px 0px;\n  background-color: #18181b;\n  white-space: normal;\n  color: #fff;\n  border-radius: 4px;\n"]);return vu=function(){return e},e}var Ou=Kr.c.div(vu()),Cu=Object(Kr.c)(gu).attrs({size:"small"})(Eu()),ju=Object(Kr.c)(fu)(hu()),Au=function(e){var t=e.children,n=e.onClose;return u.a.createElement(Ou,null,u.a.createElement(Cu,{onClick:n},u.a.createElement(ju,null)),t)};Au.defaultProps={};var yu=Au,Fu=n(177);function Su(){var e=Object(Vr.a)(["\n  overflow-y: auto;\n\n  .ScrollbarsCustom-TrackY {\n    background: none !important;\n  }\n\n  .ScrollbarsCustom-ThumbY {\n    margin-left: auto;\n    margin-right: auto;\n    width: 6px !important;\n  }\n"]);return Su=function(){return e},e}var wu=Object(Kr.c)(Fu.a).attrs({disableTracksWidthCompensation:!0})(Su());function xu(){var e=Object(Vr.a)(["\n  padding: 2px;\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n\n  &:hover {\n    background-color: rgba(119, 44, 232, 0.2);\n    cursor: pointer;\n  }\n"]);return xu=function(){return e},e}function Bu(){var e=Object(Vr.a)([""]);return Bu=function(){return e},e}function Pu(){var e=Object(Vr.a)(["\n  padding-bottom: 10px;\n  font-size: 12px;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.8);\n"]);return Pu=function(){return e},e}function ku(){var e=Object(Vr.a)(["\n  padding-top: 10px;\n  padding-right: 16px;\n  padding-left: 16px;\n\n  &:not(:last-child) {\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n  }\n"]);return ku=function(){return e},e}function _u(){var e=Object(Vr.a)(["\n  height: 100%;\n"]);return _u=function(){return e},e}function Ru(){var e=Object(Vr.a)(["\n  padding-top: 32px;\n  padding-bottom: 16px;\n  height: 100%;\n"]);return Ru=function(){return e},e}var Tu=Kr.c.div(Ru()),Lu=Kr.c.div(_u()),Uu=Kr.c.div(ku()),Iu=Kr.c.div(Pu()),Nu=Kr.c.div(Bu()),Mu=Kr.c.img(xu()),Hu=function(e){var t=e.emoteCategories,n=e.onEmoteClick,a=Object(r.useCallback)((function(e,t){var r=e.title,a=e.items;return u.a.createElement(Uu,{key:t},!!r&&u.a.createElement(Iu,null,r),u.a.createElement(Nu,null,a.map((function(e){var t=e.alt,r=e.src,a=e.srcSet;return u.a.createElement(Mu,{key:t,alt:t,src:r,srcSet:a,onClick:function(){return n(t)}})}))))}),[n]);return u.a.createElement(Tu,null,u.a.createElement(Lu,null,u.a.createElement(wu,null,t.map(a))))};Hu.defaultProps={emoteCategories:[]};var Gu=Hu;function zu(){return(zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qu(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var Wu=u.a.createElement("g",{fill:"currentColor"},u.a.createElement("path",{d:"M7 11a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-4 4a2 2 0 002-2H8a2 2 0 002 2z"}),u.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0a6 6 0 11-12 0 6 6 0 0112 0z",clipRule:"evenodd"})),Qu=function(e){var t=e.svgRef,n=e.title,r=qu(e,["svgRef","title"]);return u.a.createElement("svg",zu({viewBox:"0 0 20 20",ref:t},r),n?u.a.createElement("title",null,n):null,Wu)},Vu=u.a.forwardRef((function(e,t){return u.a.createElement(Qu,zu({svgRef:t},e))}));n.p;function Ku(){var e=Object(Vr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return Ku=function(){return e},e}function Ju(){var e=Object(Vr.a)(["\n  position: absolute;\n  right: 5px;\n  bottom: 5px;\n"]);return Ju=function(){return e},e}function Zu(){var e=Object(Vr.a)(["\n  display: block;\n  padding: 10px;\n  width: 100%;\n  height: 38px;\n  max-height: 91px;\n  min-height: 40px;\n  overflow: hidden;\n  border: 2px solid transparent;\n  background-color: rgba(255, 255, 255, 0.15);\n  font-family: inherit;\n  font-size: 12px;\n  line-height: 1.5;\n  border-radius: 4px;\n  outline: none;\n  color: #fff;\n  resize: none;\n  transition-duration: 0.1s;\n  transition-timing-function: ease-in;\n  transition-property: box-shadow, border, background-color;\n\n  &:focus {\n    background-color: #000;\n    border-color: #9147ff;\n  }\n\n  &[disabled] {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"]);return Zu=function(){return e},e}function Yu(){var e=Object(Vr.a)(["\n  position: absolute;\n  top: auto;\n  right: 0;\n  bottom: 100%;\n  margin-bottom: 8px;\n  width: 320px;\n  height: 405px;\n  min-width: 0;\n  white-space: nowrap;\n"]);return Yu=function(){return e},e}function $u(){var e=Object(Vr.a)(["\n      margin-left: -5px;\n      margin-bottom: -5px;\n      margin-right: -5px;\n      padding: 5px;\n      border: 1px solid rgba(255, 255, 255, 0.15);\n      border-top: none;\n      border-bottom-left-radius: 6px;\n      border-bottom-right-radius: 6px;\n      /* box-shadow: 0 2px 3px -1px rgba(0, 0, 0, 0.1),\n        0 2px 2px -2px rgba(0, 0, 0, 0.02); */\n\n      & > "," {\n        margin-left: -1px;\n        margin-bottom: -1px;\n        margin-right: -1px;\n      }\n    "]);return $u=function(){return e},e}function Xu(){var e=Object(Vr.a)(["\n  ",";\n"]);return Xu=function(){return e},e}function ea(){var e=Object(Vr.a)(["\n  position: relative;\n"]);return ea=function(){return e},e}function ta(){var e=Object(Vr.a)(["\n  margin-right: 8px;\n  width: 28px;\n  height: 28px;\n  object-fit: contain;\n"]);return ta=function(){return e},e}function na(){var e=Object(Vr.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 2px;\n  background-color: ",";\n  cursor: pointer;\n"]);return na=function(){return e},e}function ra(){var e=Object(Vr.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 100%;\n  margin-left: -5px;\n  margin-bottom: -5px;\n  margin-right: -5px;\n  margin-bottom: 0;\n  padding-top: 10px;\n  padding-bottom: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  border-bottom: none;\n  background-color: #18181b;\n  color: #fff;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  /* box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15), 0 0px 2px rgba(0, 0, 0, 0.1); */\n"]);return ra=function(){return e},e}function ua(){var e=Object(Vr.a)(["\n  position: relative;\n"]);return ua=function(){return e},e}function aa(){var e=Object(Vr.a)(["\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 10px;\n  background-color: #18181b;\n\n  & > :not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]);return aa=function(){return e},e}var oa=Kr.c.div(aa()),ca=Kr.c.div(ua()),ia=Kr.c.div(ra()),sa=Kr.c.div(na(),(function(e){return e.isActive?"rgba(255, 255, 255, 0.15)":"transparent"})),la=Kr.c.img(ta()),fa=Kr.c.div(ea()),pa=Kr.c.div(Xu(),(function(e){return e.isSuggestions&&Object(Kr.b)($u(),fa)})),ma=Kr.c.div(Yu()),ba=Kr.c.textarea(Zu()),Da=Object(Kr.c)(gu)(Ju()),da=Object(Kr.c)(Vu)(Ku()),ga=u.a.forwardRef((function(e,t){var n=e.text,a=e.emoteCategories,o=e.suggestions,c=e.isDisabled,i=e.onEmoteClick,s=e.onChange,l=e.onKeyUp,f=e.onKeyDown,p=e.onBlur,m=Object(r.useRef)(null),b=Object(r.useState)(!1),D=Object(Pt.a)(b,2),d=D[0],g=D[1],h=function(){return g(!1)};Object(ou.a)(m,h);return u.a.createElement(oa,{ref:m},u.a.createElement(ca,null,o.isActive&&function(e){var t=e.type,n=e.items,r=e.activeIndex;return u.a.createElement(ia,null,n.length?n.map("users"===t?function(e,t){return u.a.createElement(sa,{key:e,isActive:t===r},e)}:function(e,t){var n=e.src,a=e.srcSet,o=e.alt;return u.a.createElement(sa,{key:o,isActive:t===r},u.a.createElement(la,{src:n,srcSet:a,alt:o}),o)}):"No matches")}(o),u.a.createElement(pa,{isSuggestions:o.isActive},u.a.createElement(fa,null,u.a.createElement(ba,{ref:t,value:n,placeholder:"Send a message",maxLength:500,disabled:c,onChange:s,onKeyUp:l,onKeyDown:f,onBlur:p}),!!a.length&&u.a.createElement(Da,{onClick:function(){return g(!d)}},u.a.createElement(da,null)))),d&&u.a.createElement(ma,null,u.a.createElement(yu,{onClose:h},u.a.createElement(Gu,{emoteCategories:a,onEmoteClick:i})))))}));ga.defaultProps={emoteCategories:[],isDisabled:!1};var ha=u.a.memo(ga);function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var Oa=u.a.createElement("g",{fill:"currentColor"},u.a.createElement("path",{d:"M10 8a2 2 0 100 4 2 2 0 000-4z"}),u.a.createElement("path",{fillRule:"evenodd",d:"M9 2h2a2.01 2.01 0 001.235 1.855l.53.22a2.01 2.01 0 002.185-.439l1.414 1.414a2.01 2.01 0 00-.439 2.185l.22.53A2.01 2.01 0 0018 9v2a2.01 2.01 0 00-1.855 1.235l-.22.53a2.01 2.01 0 00.44 2.185l-1.415 1.414a2.01 2.01 0 00-2.184-.439l-.531.22A2.01 2.01 0 0011 18H9a2.01 2.01 0 00-1.235-1.854l-.53-.22a2.009 2.009 0 00-2.185.438L3.636 14.95a2.009 2.009 0 00.438-2.184l-.22-.531A2.01 2.01 0 002 11V9c.809 0 1.545-.487 1.854-1.235l.22-.53a2.009 2.009 0 00-.438-2.185L5.05 3.636a2.01 2.01 0 002.185.438l.53-.22A2.01 2.01 0 009 2zm-4 8l1.464 3.536L10 15l3.535-1.464L15 10l-1.465-3.536L10 5 6.464 6.464 5 10z",clipRule:"evenodd"})),Ca=function(e){var t=e.svgRef,n=e.title,r=va(e,["svgRef","title"]);return u.a.createElement("svg",Ea({viewBox:"0 0 20 20",ref:t},r),n?u.a.createElement("title",null,n):null,Oa)},ja=u.a.forwardRef((function(e,t){return u.a.createElement(Ca,Ea({svgRef:t},e))}));n.p;function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ya(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var Fa=u.a.createElement("path",{fill:"#fff",d:"M13 8l-5 5v18h6v5l5-5h4l9-9V8z"}),Sa=u.a.createElement("path",{fill:"#9147ff",d:"M26 25l4-4V10H14v15h4v4l4-4z"}),wa=u.a.createElement("path",{fill:"#fff",d:"M20 14h2v6h-2v-6zm7 0v6h-2v-6h2z"}),xa=function(e){var t=e.svgRef,n=e.title,r=ya(e,["svgRef","title"]);return u.a.createElement("svg",Aa({viewBox:"0 0 40 40",ref:t},r),n?u.a.createElement("title",null,n):null,Fa,Sa,wa)},Ba=u.a.forwardRef((function(e,t){return u.a.createElement(xa,Aa({svgRef:t},e))}));n.p;function Pa(){var e=Object(Vr.a)(["\n  position: absolute;\n  opacity: 0;\n\n  &:checked + "," {\n    background-color: #9147ff;\n\n    &:after {\n      content: '';\n      top: 2px;\n      left: calc(100% - 18px);\n    }\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: 9px;\n      left: 10px;\n      display: block;\n      height: 3px;\n      width: 7px;\n      border-bottom: 2px solid #fff;\n      border-left: 2px solid #fff;\n      transform: translate3d(-50%, -50%, 0) rotate(-45deg);\n    }\n  }\n"]);return Pa=function(){return e},e}function ka(){var e=Object(Vr.a)(["\n  content: '';\n  position: relative;\n  display: inline-block;\n  order: 0;\n  width: 35px;\n  height: 20px;\n  vertical-align: bottom;\n  border-radius: 10px/50%;\n  background-color: rgba(0, 0, 0, 0.3);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15), 0 0 2px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.1s ease;\n  cursor: pointer;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    bottom: 2px;\n    display: block;\n    width: 16px;\n    border-radius: 50%;\n    background-color: #fff;\n    transition: left 0.1s ease;\n  }\n"]);return ka=function(){return e},e}function _a(){var e=Object(Vr.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  line-height: 20px;\n"]);return _a=function(){return e},e}var Ra=Kr.c.div(_a()),Ta=Kr.c.label(ka()),La=Kr.c.input.attrs({type:"checkbox"})(Pa(),Ta),Ua=function(e){var t=e.id,n=e.label,r=e.checked,a=e.readOnly,o=e.onChange;return u.a.createElement(Ra,null,u.a.createElement(La,{id:t,label:n,checked:r,readOnly:a,onChange:o}),u.a.createElement(Ta,{htmlFor:t}))};Ua.defaultProps={checked:!1,readOnly:!1,onChange:function(){}};var Ia=Ua;function Na(){var e=Object(Vr.a)(["\n  margin-right: 3px;\n  max-width: 100%;\n  vertical-align: middle;\n  border-radius: 3px;\n"]);return Na=function(){return e},e}function Ma(){var e=Object(Vr.a)(["\n  margin-left: auto;\n  color: #bf94ff;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: #a970ff;\n    text-decoration: underline;\n  }\n\n  &:visited {\n    color: #a970ff;\n  }\n"]);return Ma=function(){return e},e}function Ha(){var e=Object(Vr.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return Ha=function(){return e},e}function Ga(){var e=Object(Vr.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ga=function(){return e},e}function za(){var e=Object(Vr.a)([""]);return za=function(){return e},e}function qa(){var e=Object(Vr.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 4px 0;\n  cursor: pointer;\n"]);return qa=function(){return e},e}function Wa(){var e=Object(Vr.a)([""]);return Wa=function(){return e},e}function Qa(){var e=Object(Vr.a)(["\n  padding: 8px 0;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.6);\n"]);return Qa=function(){return e},e}function Va(){var e=Object(Vr.a)(["\n  &:not(:last-child) {\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n  }\n"]);return Va=function(){return e},e}function Ka(){var e=Object(Vr.a)(["\n  height: 100%;\n"]);return Ka=function(){return e},e}function Ja(){var e=Object(Vr.a)(["\n  margin: 0;\n  padding: 0;\n  font-size: 14px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.8);\n"]);return Ja=function(){return e},e}function Za(){var e=Object(Vr.a)(["\n  padding: 16px;\n  height: 100%;\n"]);return Za=function(){return e},e}var Ya=Kr.c.div(Za()),$a=Kr.c.h2(Ja()),Xa=Object(Kr.c)(wu)(Ka()),eo=Kr.c.div(Va()),to=Kr.c.div(Qa()),no=Kr.c.div(Wa()),ro=Kr.c.div(qa()),uo=Kr.c.span(za()),ao=Kr.c.div(Ga()),oo=Kr.c.div(Ha(),(function(e){return e.color})),co=Kr.c.a(Ma()),io=Kr.c.img(Na()),so=function(e){var t=e.isAuth,n=e.userDisplayName,a=e.userColor,o=e.userBadgesImages,c=Object(gr.b)(),i=Object(gr.c)(Yr),s=Object(r.useCallback)((function(e){var t=e.id,n=e.name,r=e.title,a=e.description,o=e.value;return u.a.createElement(ro,{key:t,onClick:function(){return c(pr(n,!o))},title:a},u.a.createElement(uo,null,r),u.a.createElement(Ia,{id:t,label:r,checked:o,onChange:function(){return c(pr(n,o))}}))}),[c]),l=Object(r.useCallback)((function(e,t){var n=e.title,r=e.items;return u.a.createElement(eo,{key:t},!!n&&u.a.createElement(to,null,n),u.a.createElement(no,null,r.map(s)))}),[s]);return u.a.createElement(Ya,null,u.a.createElement($a,null,"Chat settings"),u.a.createElement(Xa,null,t&&u.a.createElement(eo,null,u.a.createElement(to,null,"Profile"),u.a.createElement(no,null,u.a.createElement(ao,null,o.map((function(e,t){var n=e.alt,r=e.label,a=e.src,o=e.srcSet;return u.a.createElement(io,{key:t,alt:n,"aria-label":r,src:a,srcSet:o})})),u.a.createElement(oo,{color:a},n),u.a.createElement(co,{as:hr.b,to:"/chat/logout"},"Log Out")))),i.map(l)))};so.defaultProps={userDisplayName:"",userColor:"",userBadgesImages:[]};var lo=so;function fo(){var e=Object(Vr.a)(["\n  display: block;\n  margin-right: 4px;\n  width: 20px;\n  height: 20px;\n"]);return fo=function(){return e},e}function po(){var e=Object(Vr.a)(["\n  display: block;\n  width: 20px;\n  height: 20px;\n"]);return po=function(){return e},e}function mo(){var e=Object(Vr.a)(["\n  margin-left: auto;\n"]);return mo=function(){return e},e}function bo(){var e=Object(Vr.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  height: 30px;\n  border: none;\n  color: #fff;\n  background-color: #9147ff;\n  outline: none;\n  font-size: 12px;\n  border-radius: 4px;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #772ce8;\n  }\n\n  &:active {\n    background-color: #5c16c5;\n  }\n\n  &:focus {\n    box-shadow: 0 0 6px 0 #772ce8;\n  }\n\n  &[disabled] {\n    background-color: rgba(255, 255, 255, 0.26);\n    color: rgba(255, 255, 255, 0.8);\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]);return bo=function(){return e},e}function Do(){var e=Object(Vr.a)(["\n  position: absolute;\n  top: auto;\n  right: 0;\n  bottom: 100%;\n  margin-bottom: 10px;\n  width: 320px;\n  height: 405px;\n  min-width: 0;\n  white-space: nowrap;\n"]);return Do=function(){return e},e}function go(){var e=Object(Vr.a)(["\n  display: flex;\n  align-items: center;\n\n  & > :not(:last-child) {\n    margin-right: 8px;\n  }\n"]);return go=function(){return e},e}function ho(){var e=Object(Vr.a)(["\n  position: relative;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 10px;\n"]);return ho=function(){return e},e}var Eo=Kr.c.div(ho()),vo=Kr.c.div(go()),Oo=Kr.c.div(Do()),Co=Kr.c.button.attrs({type:"button"})(bo()),jo=Object(Kr.c)(gu)(mo()),Ao=Object(Kr.c)(ja)(po()),yo=Object(Kr.c)(Ba)(fo()),Fo=function(e){var t=e.userDisplayName,n=e.userColor,a=e.userBadgesImages,o=e.isAuth,c=e.isDisabled,i=e.onSendMessage,s=Object(r.useState)(!1),l=Object(Pt.a)(s,2),f=l[0],p=l[1],m=Object(r.useRef)(null),b=function(){return p(!1)};Object(ou.a)(m,b);return u.a.createElement(Eo,null,u.a.createElement(vo,null,!o&&u.a.createElement(Co,{as:hr.b,to:"/chat/auth"},u.a.createElement(yo,null),"Sign in with Twitch"),u.a.createElement(jo,{onClick:function(){return p(!f)}},u.a.createElement(Ao,null)),u.a.createElement(Co,{disabled:c,onClick:i},"Chat")),f&&u.a.createElement(Oo,{ref:m},u.a.createElement(yu,{onClose:b},u.a.createElement(lo,{isAuth:o,userDisplayName:t,userColor:n,userBadgesImages:a}))))};Fo.defaultProps={userDisplayName:"",userColor:"",userBadgesImages:[],isDisabled:!1};var So=u.a.memo(Fo),wo=(_t.a.shape({type:_t.a.oneOf([h]).isRequired,message:_t.a.string.isRequired,messageArray:_t.a.arrayOf(_t.a.oneOfType([_t.a.string,an,on,cn,sn,ln,fn])).isRequired,tags:_t.a.shape({badgeInfo:_t.a.shape({subscriber:_t.a.string}),badges:_t.a.shape({}),color:_t.a.string,displayName:_t.a.string.isRequired,emotes:_t.a.shape({}),flags:_t.a.string,id:_t.a.string,mod:_t.a.bool,roomId:_t.a.string,tmiSentId:_t.a.oneOfType([_t.a.string,_t.a.number]),userId:_t.a.string}).isRequired,badges:_t.a.arrayOf(_t.a.shape({alt:_t.a.string,label:_t.a.string,src:_t.a.string.isRequired,srcSet:_t.a.string})),user:_t.a.string.isRequired,isHistory:_t.a.bool,isAction:_t.a.bool,isDeleted:_t.a.bool}),_t.a.shape({type:_t.a.oneOf([E]).isRequired,message:_t.a.string.isRequired,channel:_t.a.string.isRequired,tags:_t.a.shape({msgId:_t.a.string.isRequired}).isRequired}),_t.a.shape({type:_t.a.oneOf([v]).isRequired,message:_t.a.string,channel:_t.a.string.isRequired,tags:_t.a.shape({badgeInfo:_t.a.shape({subscriber:_t.a.string}),badges:_t.a.shape({}),color:_t.a.string,displayName:_t.a.string.isRequired,emotes:_t.a.shape({}),id:_t.a.string,login:_t.a.string,mod:_t.a.bool,msgId:_t.a.string,systemMsg:_t.a.string,tmiSentId:_t.a.oneOfType([_t.a.string,_t.a.number]),userId:_t.a.string,msgParamCumulativeMonths:_t.a.number,msgParamDisplayName:_t.a.string,msgParamLogin:_t.a.string,msgParamMonths:_t.a.number,msgParamPromoGiftTotal:_t.a.number,msgParamPromoName:_t.a.string,msgParamRecipientDisplayName:_t.a.string,msgParamRecipientId:_t.a.string,msgParamRecipientUserName:_t.a.string,msgParamSenderLogin:_t.a.string,msgParamSenderName:_t.a.string,msgParamShouldShareStreak:_t.a.bool,msgParamStreakMonths:_t.a.number,msgParamSubPlan:_t.a.string,msgParamSubPlanName:_t.a.string,msgParamViewerCount:_t.a.number,msgParamRitualName:_t.a.string,msgParamThreshold:_t.a.number}).isRequired}),n(325));function xo(){var e=Object(Vr.a)(["\n  margin-bottom: 2px;\n  margin-right: 3px;\n  max-width: 100%;\n  vertical-align: middle;\n  border-radius: 3px;\n"]);return xo=function(){return e},e}function Bo(){var e=Object(Vr.a)(["\n  margin-right: 5px;\n  color: rgba(255, 255, 255, 0.6);\n"]);return Bo=function(){return e},e}function Po(){var e=Object(Vr.a)(["\n  color: #bf94ff;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: #a970ff;\n    text-decoration: underline;\n  }\n\n  &:visited {\n    color: #a970ff;\n  }\n"]);return Po=function(){return e},e}function ko(){var e=Object(Vr.a)(["\n      background-color: #fafafa;\n      color: #18181b;\n    "]);return ko=function(){return e},e}function _o(){var e=Object(Vr.a)(["\n      background-color: #40404a;\n      color: #fff;\n    "]);return _o=function(){return e},e}function Ro(){var e=Object(Vr.a)(["\n      padding: 2px 4px;\n    "]);return Ro=function(){return e},e}function To(){var e=Object(Vr.a)(["\n  ",";\n  ",";\n  ",";\n"]);return To=function(){return e},e}function Lo(){var e=Object(Vr.a)(["\n  display: inline-block;\n  margin-top: -5px;\n  margin-bottom: -4px;\n  width: 20px;\n  height: auto;\n  vertical-align: middle;\n"]);return Lo=function(){return e},e}function Uo(){var e=Object(Vr.a)(["\n  display: inline-block;\n  margin: -5px 0;\n  vertical-align: middle;\n"]);return Uo=function(){return e},e}function Io(){var e=Object(Vr.a)(["\n  font-weight: bold;\n  color: ",";\n  cursor: pointer;\n"]);return Io=function(){return e},e}function No(){var e=Object(Vr.a)(["\n  padding: 5px 20px;\n  color: ",";\n  opacity: ",";\n  line-height: 20px;\n  word-wrap: break-word;\n  background-color: ",";\n"]);return No=function(){return e},e}var Mo=Kr.c.div(No(),(function(e){return e.isAction?e.color:"#fff"}),(function(e){return e.isHistory||e.isDeleted?"0.5":"1"}),(function(e){return e.isMention?"rgba(255, 0, 0, 0.3)":e.isEven?"#1f1925":"transparent"})),Ho=Kr.c.span(Io(),(function(e){return e.color})),Go=Kr.c.img(Uo()),zo=Kr.c.img(Lo()),qo=Kr.c.span(To(),(function(e){return(e.isActive||e.isOwnMessage)&&Object(Kr.b)(Ro())}),(function(e){return e.isOwnMessage&&Object(Kr.b)(_o())}),(function(e){return e.isActive&&Object(Kr.b)(ko())})),Wo=Kr.c.a(Po()),Qo=Kr.c.span(Bo()),Vo=Kr.c.img(xo()),Ko=function(e){var t=e.message,n=t.message,a=t.messageArray,o=t.tags,c=o.color,i=o.displayName,s=o.tmiSentTs,l=t.badges,f=t.user,p=t.isHistory,m=t.isAction,b=t.isDeleted,D=e.userLogin,d=e.isEven,g=e.isShowTimestamps,h=e.onNameRightClick,E=Object(r.useState)(!1),v=Object(Pt.a)(E,2),O=v[0],C=v[1],j=f!==D&&RegExp(D,"gi").test(n);return u.a.createElement(Mo,{isHistory:p,isAction:m,isEven:d,isMention:j,isDeleted:b,color:c},g&&u.a.createElement(Qo,null,Object(wo.a)("h:mm",new Date(s))),l.length>0&&function(e){return e.map((function(e,t){var n=e.alt,r=e.label,a=e.src,o=e.srcSet;return u.a.createElement(Vo,{key:t,alt:n,"aria-label":r,src:a,srcSet:o})}))}(l),u.a.createElement(Ho,{color:c,onContextMenu:function(e){h(i),e.preventDefault()}},i),m?" ":": ",b&&!O?u.a.createElement(Wo,{onClick:function(){return C(!0)}},"<message deleted>"):a.map(function(e,t){return function(n,r){return"object"!==typeof n?n:"twitch-emote"===n.type||"bttv-emote"===n.type||"ffz-emote"===n.type?u.a.createElement(Go,{key:r,src:n.src,srcSet:n.srcSet,alt:n.alt}):"emoji"===n.type?u.a.createElement(zo,{key:r,src:n.src,srcSet:n.srcSet,alt:n.alt}):"mention"===n.type?u.a.createElement(qo,{key:r,isActive:n.target===t,isOwnMessage:e===t},n.text):"link"===n.type?u.a.createElement(Wo,{key:r,href:n.href,rel:"noreferrer noopener",target:"_blank"},n.text):null}}(f,D)))};Ko.defaultProps={userLogin:"",isEven:!1,isShowTimestamps:!1,onNameRightClick:function(){}};var Jo=u.a.memo(Ko);function Zo(){var e=Object(Vr.a)(["\n  padding: 5px 20px;\n  color: rgba(255, 255, 255, 0.6);\n  line-height: 20px;\n  word-wrap: break-word;\n  background-color: ",";\n"]);return Zo=function(){return e},e}var Yo=Kr.c.div(Zo(),(function(e){return e.isEven?"#1f1925":"transparent"})),$o=function(e){var t=e.message.message,n=e.isEven;return u.a.createElement(Yo,{isEven:n},t)};$o.defaultProps={isEven:!1};var Xo=u.a.memo($o);function ec(){var e=Object(Vr.a)(["\n  padding: 5px 20px 5px 16px;\n  line-height: 20px;\n  word-wrap: break-word;\n  border-left: 4px solid #9147ff;\n  color: #fff;\n"]);return ec=function(){return e},e}var tc=Kr.c.div(ec()),nc=u.a.memo((function(e){var t=e.message.tags.systemMsg;return u.a.createElement(tc,null,t)})),rc=function(e){var t=e.message,n=e.userLogin,r=e.isEven,a=e.isShowTimestamps,o=e.onNameClick,c=e.onNameRightClick;return t.type===h?u.a.createElement(Jo,{message:t,userLogin:n,isEven:r,isShowTimestamps:a,onNameClick:o,onNameRightClick:c}):t.type===E?u.a.createElement(Xo,{message:t,isEven:r}):t.type===v?u.a.createElement(nc,{message:t}):null};rc.defaultProps={userLogin:"",isEven:!1,isShowTimestamps:!1,onNameClick:function(){},onNameRightClick:function(){}};var uc=u.a.memo(rc);function ac(){var e=Object(Vr.a)(["\n  position: absolute;\n  left: 50%;\n  bottom: 10px;\n  display: ",";\n  padding: 5px 20px;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  border-radius: 4px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transform: translateX(-50%);\n"]);return ac=function(){return e},e}function oc(){var e=Object(Vr.a)(["\n  .ScrollbarsCustom-Content {\n    padding-bottom: 10px !important;\n  }\n"]);return oc=function(){return e},e}function cc(){var e=Object(Vr.a)(["\n  position: relative;\n  flex-grow: 1;\n"]);return cc=function(){return e},e}var ic=Kr.c.div(cc()),sc=Object(Kr.c)(wu)(oc()),lc=Kr.c.button(ac(),(function(e){return e.visible?"block":"none"})),fc=function(e){var t=e.messages,n=e.userLogin,a=e.isEven,o=e.isSplitChat,c=e.isShowTimestamps,i=e.onNameRightClick,s=Object(r.useState)(!1),l=Object(Pt.a)(s,2),f=l[0],p=l[1],m=Object(r.useRef)(null),b=function(){m.current&&m.current.scrollToBottom&&m.current.scrollToBottom()};Object(r.useEffect)((function(){f||b()}),[t]);var D=function(e){return!!o&&(a?e%2===1:e%2===0)};return u.a.createElement(ic,null,u.a.createElement(sc,{onUpdate:function(e){var t=e.clientHeight,n=e.contentScrollHeight,r=e.scrollTop;p(r+100<n-t)},ref:m},t.map((function(e,t){return u.a.createElement(uc,{key:e.tags.id,message:e,userLogin:n,isEven:D(t),isShowTimestamps:c,onNameRightClick:i})}))),u.a.createElement(lc,{onClick:b,visible:f},"More messages below"))};fc.defaultProps={messages:[],userLogin:"",isEven:!1,isSplitChat:!0,isShowTimestamps:!1,onNameRightClick:function(){}};var pc=u.a.memo(fc);function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(){var e=Object(Vr.a)(["\n  display: flex;\n  flex-direction: column;\n  width: ",";\n  height: 100%;\n  background-color: #18181b;\n"]);return Dc=function(){return e},e}function dc(){var e=Object(Vr.a)(["\n  height: 100vh;\n  font-size: 12px;\n  background-color: #0e0e10;\n"]);return dc=function(){return e},e}var gc=Kr.c.div(dc()),hc=Kr.c.div(Dc(),(function(e){return e.isFixedWidth?"340px":"auto"})),Ec={type:null,isActive:!1,items:[],activeIndex:0,start:0,end:0},vc=function(e){var t=e.activeIndex,n=e.items,r=Object(Qr.a)(e,["activeIndex","items"]);return bc({activeIndex:0===t?n.length-1:t-1,items:n},r)},Oc=function(e){var t=e.activeIndex,n=e.items,r=Object(Qr.a)(e,["activeIndex","items"]);return bc({activeIndex:t===n.length-1?0:t+1,items:n},r)},Cc=function(e){var t=e.onSendMessage,n=Object(r.useState)(""),a=Object(Pt.a)(n,2),o=a[0],c=a[1],i=Object(gr.c)(Sr),s=Object(gr.c)(Ar),l=Object(gr.c)(Fr),f=Object(gr.c)(wn),p=Object(gr.c)(xn),m=Object(gr.c)(Qn),b=Object(gr.c)(zn),D=Object(gr.c)(wr),d=Object(gr.c)(jr),g=Object(gr.c)(yn),h=Object(gr.c)(Pr),E=Object(gr.c)($r),v=Object(gr.c)(Xr),C=Object(gr.c)(eu),j=Object(r.useRef)(null),A=Zr(Ec),y=Object(Pt.a)(A,2),F=y[0],S=y[1],w=Object(r.useRef)(o);w.current=o;var x=Object(r.useRef)(D);x.current=D;var B=Object(r.useRef)(b);B.current=b;var P=Object(r.useRef)(F);P.current=F;var k=!d||!g,_=Object(r.useCallback)((function(e){c((function(t){return"".concat(t.trim()," @").concat(e," ").trimLeft()})),j.current&&j.current.focus()}),[c,j]),R=Object(r.useCallback)((function(e){c((function(t){return"".concat(t.trim()," ").concat(e," ").trimLeft()}))}),[c]),T=Object(r.useCallback)((function(){w.current&&(t(w.current),c(""))}),[t,w,c]),L=Object(r.useCallback)((function(){S({isActive:!1})}),[S]),U=Object(r.useCallback)((function(e){var t=e.target,n=t.value,r=t.selectionStart;c(n);var u=n.lastIndexOf(" ",r-1),a=n.indexOf(" ",r),o=-1===u?0:u+1,i=-1===a?n.length:a,s=n.substring(o,i),f=O.users.regex.exec(s);if(f){var p=Object(Pt.a)(f,2)[1],m=tu(p,x.current,l,O.users.limit);S({type:O.users.name,isActive:!0,items:m,activeIndex:0,start:o,end:i})}else{var b=O.emotes.regex.exec(s);if(b){var D=Object(Pt.a)(b,2)[1],d=au(D,B.current,O.emotes.limit);S({type:O.emotes.name,isActive:!0,items:d,activeIndex:0,start:o,end:i})}else P.current.isActive&&S(Ec)}}),[c,S,P,l]),I=Object(r.useCallback)((function(){}),[]),N=Object(r.useCallback)((function(e){if(P.current.isActive){if("Enter"===e.key||"Tab"===e.key)return e.preventDefault(),c((function(e){return function(e,t){var n=t.type,r=t.items,u=t.activeIndex,a=t.start,o=t.end;if(0===r.length)return e;var c=r[u],i="users"===n?"@".concat(c):c.alt,s=e.substring(0,a),l=e.substring(o)||" ";return"".concat(s).concat(i).concat(l)}(e,P.current)})),void S(Ec);if("ArrowUp"===e.key)return e.preventDefault(),void S(vc);if("ArrowDown"===e.key)return e.preventDefault(),void S(Oc)}P.current.isActive||"Enter"===e.key&&(e.preventDefault(),T())}),[T,S,P]);return u.a.createElement(gc,null,u.a.createElement(hc,{isFixedWidth:C},u.a.createElement(pc,{messages:i,userLogin:s,isEven:!!v&&h,isShowTimestamps:E,isSplitChat:v,onNameRightClick:_}),u.a.createElement(ha,{ref:j,text:o,emoteCategories:m,suggestions:F,isDisabled:k,isAuth:d,onEmoteClick:R,onChange:U,onKeyUp:I,onKeyDown:N,onBlur:L}),u.a.createElement(So,{userDisplayName:l,userColor:f,userBadgesImages:p,isDisabled:k,isAuth:d,onSendMessage:T})))},jc=function(){var e=Object(gr.b)(),t=Object(gr.c)(Cr),n=Object(gr.c)(jn),a=qr();Rr(),kr(),Object(r.useEffect)((function(){if(t)return function(){};var n=localStorage,r=n.user,u=n.idToken;if(!u)return e(W({isAuthReady:!0,isAuth:!1})),function(){};if(r){var a={isAuthReady:!0,isAuth:!0,user:JSON.parse(r)};e(W(a))}else{var o=Or.a.decode(u).sub;e(function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r,u,a,o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Q()),t.prev=1,t.next=4,k(e);case 4:r=t.sent,u=r.data[0],a=u.login,o=u.display_name,c={id:e,login:a,displayName:o},localStorage.setItem("user",JSON.stringify(c)),n(V(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(K({error:t.t0.message}));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(o))}return function(){}}),[e,t]);var o=Object(r.useCallback)((function(e){if(a){var t=Wr(e.trim());a.say(n,t)}}),[a,n]);return u.a.createElement(Cc,{onSendMessage:o})},Ac={client_id:"4e66w1po1tzf645r9vutn9qus05vg9x",redirect_uri:"https://honeykingdom.github.io/chat/",response_type:"token+id_token",scope:["openid","channel:moderate","chat:edit","chat:read","whispers:read","whispers:edit","user_blocks_read","user_blocks_edit","user_subscriptions"].join("+"),claims:JSON.stringify({id_token:{email_verified:null,picture:null,preferred_username:null}})},yc=function(){var e=Object.entries(Ac).map((function(e){var t=Object(Pt.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&");return"".concat("https://id.twitch.tv/oauth2/authorize","?").concat(e)},Fc=function(){return window.location.href=yc(),null},Sc=function(){var e=Object(Er.f)(),t=Object(gr.b)();return localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),t(W({isAuthReady:!1,isAuth:!1})),e.push({pathname:"/chat/",hash:localStorage.lastChannel||""}),null},wc=function(){var e=Object(Er.f)();if(!window.location.hash)return null;var t=new URLSearchParams(window.location.hash.slice(1)),n=t.get("access_token"),r=t.get("id_token");return n&&r?(localStorage.setItem("accessToken",n),localStorage.setItem("idToken",r),e.push({pathname:"/chat/",hash:localStorage.lastChannel||""}),null):null};function xc(){var e=Object(Vr.a)(["\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n    font-family: Roobert, Helvetica Neue, Helvetica, Arial, sans-serif;\n  }\n"]);return xc=function(){return e},e}var Bc=Object(Kr.b)(xc());function Pc(){var e=Object(Vr.a)([""]);return Pc=function(){return e},e}var kc=Object(Kr.b)(Pc());function _c(){var e=Object(Vr.a)([""]);return _c=function(){return e},e}var Rc=Object(Kr.b)(_c());function Tc(){var e=Object(Vr.a)(["\n  :root {\n    ",";\n    ",";\n  }\n  ",";\n"]);return Tc=function(){return e},e}var Lc=Object(Kr.a)(Tc(),kc,Rc,Bc),Uc=function(e){var t=e.location;return i(t.hash)?u.a.createElement(wc,null):u.a.createElement(jc,null)},Ic=function(e){var t=e.store;return u.a.createElement(u.a.Fragment,null,u.a.createElement(gr.a,{store:t},u.a.createElement(hr.a,null,u.a.createElement(Er.c,null,u.a.createElement(Er.a,{exact:!0,path:"/chat/",render:Uc}),u.a.createElement(Er.a,{exact:!0,path:"/chat/auth",component:Fc}),u.a.createElement(Er.a,{exact:!0,path:"/chat/logout",component:Sc})))),u.a.createElement(Lc,null))};if(c.a.initialize("UA-139550930-3"),!i(window.location.hash)){var Nc=window.location.pathname+window.location.search+window.location.hash;c.a.pageview(Nc)}o.a.render(u.a.createElement(Ic,{store:dr}),document.getElementById("root"))},56:function(e,t,n){"use strict";e.exports=n(206)}},[[183,1,2]]]);
//# sourceMappingURL=main.7d78b917.chunk.js.map